(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Fc={exports:{}},jo={},Uc={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function $y(){if(sp)return Se;sp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,H={};function B(V,q,ce){this.props=V,this.context=q,this.refs=H,this.updater=ce||F}B.prototype.isReactComponent={},B.prototype.setState=function(V,q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,q,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function ne(V,q,ce){this.props=V,this.context=q,this.refs=H,this.updater=ce||F}var J=ne.prototype=new Q;J.constructor=ne,j(J,B.prototype),J.isPureReactComponent=!0;var he=Array.isArray,Ie=Object.prototype.hasOwnProperty,Ee={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(V,q,ce){var we,Te={},Re=null,Oe=null;if(q!=null)for(we in q.ref!==void 0&&(Oe=q.ref),q.key!==void 0&&(Re=""+q.key),q)Ie.call(q,we)&&!x.hasOwnProperty(we)&&(Te[we]=q[we]);var Me=arguments.length-2;if(Me===1)Te.children=ce;else if(1<Me){for(var Be=Array(Me),mt=0;mt<Me;mt++)Be[mt]=arguments[mt+2];Te.children=Be}if(V&&V.defaultProps)for(we in Me=V.defaultProps,Me)Te[we]===void 0&&(Te[we]=Me[we]);return{$$typeof:i,type:V,key:Re,ref:Oe,props:Te,_owner:Ee.current}}function I(V,q){return{$$typeof:i,type:V.type,key:q,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function N(V){var q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return q[ce]})}var L=/\/+/g;function C(V,q){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):q.toString(36)}function et(V,q,ce,we,Te){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Oe=!1;if(V===null)Oe=!0;else switch(Re){case"string":case"number":Oe=!0;break;case"object":switch(V.$$typeof){case i:case e:Oe=!0}}if(Oe)return Oe=V,Te=Te(Oe),V=we===""?"."+C(Oe,0):we,he(Te)?(ce="",V!=null&&(ce=V.replace(L,"$&/")+"/"),et(Te,q,ce,"",function(mt){return mt})):Te!=null&&(P(Te)&&(Te=I(Te,ce+(!Te.key||Oe&&Oe.key===Te.key?"":(""+Te.key).replace(L,"$&/")+"/")+V)),q.push(Te)),1;if(Oe=0,we=we===""?".":we+":",he(V))for(var Me=0;Me<V.length;Me++){Re=V[Me];var Be=we+C(Re,Me);Oe+=et(Re,q,ce,Be,Te)}else if(Be=k(V),typeof Be=="function")for(V=Be.call(V),Me=0;!(Re=V.next()).done;)Re=Re.value,Be=we+C(Re,Me++),Oe+=et(Re,q,ce,Be,Te);else if(Re==="object")throw q=String(V),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Oe}function At(V,q,ce){if(V==null)return V;var we=[],Te=0;return et(V,we,"","",function(Re){return q.call(ce,Re,Te++)}),we}function Pt(V){if(V._status===-1){var q=V._result;q=q(),q.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=q)}if(V._status===1)return V._result.default;throw V._result}var Ue={current:null},ee={transition:null},fe={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ee};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:At,forEach:function(V,q,ce){At(V,function(){q.apply(this,arguments)},ce)},count:function(V){var q=0;return At(V,function(){q++}),q},toArray:function(V){return At(V,function(q){return q})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Se.Component=B,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=ne,Se.StrictMode=s,Se.Suspense=y,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Se.act=ie,Se.cloneElement=function(V,q,ce){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var we=j({},V.props),Te=V.key,Re=V.ref,Oe=V._owner;if(q!=null){if(q.ref!==void 0&&(Re=q.ref,Oe=Ee.current),q.key!==void 0&&(Te=""+q.key),V.type&&V.type.defaultProps)var Me=V.type.defaultProps;for(Be in q)Ie.call(q,Be)&&!x.hasOwnProperty(Be)&&(we[Be]=q[Be]===void 0&&Me!==void 0?Me[Be]:q[Be])}var Be=arguments.length-2;if(Be===1)we.children=ce;else if(1<Be){Me=Array(Be);for(var mt=0;mt<Be;mt++)Me[mt]=arguments[mt+2];we.children=Me}return{$$typeof:i,type:V.type,key:Te,ref:Re,props:we,_owner:Oe}},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:c,_context:V},V.Consumer=V},Se.createElement=T,Se.createFactory=function(V){var q=T.bind(null,V);return q.type=V,q},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=P,Se.lazy=function(V){return{$$typeof:w,_payload:{_status:-1,_result:V},_init:Pt}},Se.memo=function(V,q){return{$$typeof:v,type:V,compare:q===void 0?null:q}},Se.startTransition=function(V){var q=ee.transition;ee.transition={};try{V()}finally{ee.transition=q}},Se.unstable_act=ie,Se.useCallback=function(V,q){return Ue.current.useCallback(V,q)},Se.useContext=function(V){return Ue.current.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V){return Ue.current.useDeferredValue(V)},Se.useEffect=function(V,q){return Ue.current.useEffect(V,q)},Se.useId=function(){return Ue.current.useId()},Se.useImperativeHandle=function(V,q,ce){return Ue.current.useImperativeHandle(V,q,ce)},Se.useInsertionEffect=function(V,q){return Ue.current.useInsertionEffect(V,q)},Se.useLayoutEffect=function(V,q){return Ue.current.useLayoutEffect(V,q)},Se.useMemo=function(V,q){return Ue.current.useMemo(V,q)},Se.useReducer=function(V,q,ce){return Ue.current.useReducer(V,q,ce)},Se.useRef=function(V){return Ue.current.useRef(V)},Se.useState=function(V){return Ue.current.useState(V)},Se.useSyncExternalStore=function(V,q,ce){return Ue.current.useSyncExternalStore(V,q,ce)},Se.useTransition=function(){return Ue.current.useTransition()},Se.version="18.3.1",Se}var op;function Ih(){return op||(op=1,Uc.exports=$y()),Uc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function Hy(){if(ap)return jo;ap=1;var i=Ih(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,v){var w,R={},k=null,F=null;v!==void 0&&(k=""+v),y.key!==void 0&&(k=""+y.key),y.ref!==void 0&&(F=y.ref);for(w in y)s.call(y,w)&&!c.hasOwnProperty(w)&&(R[w]=y[w]);if(m&&m.defaultProps)for(w in y=m.defaultProps,y)R[w]===void 0&&(R[w]=y[w]);return{$$typeof:e,type:m,key:k,ref:F,props:R,_owner:a.current}}return jo.Fragment=n,jo.jsx=f,jo.jsxs=f,jo}var lp;function qy(){return lp||(lp=1,Fc.exports=Hy()),Fc.exports}var qe=qy(),$=Ih(),Cl={},zc={exports:{}},Qt={},Bc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function Wy(){return up||(up=1,function(i){function e(ee,fe){var ie=ee.length;ee.push(fe);e:for(;0<ie;){var V=ie-1>>>1,q=ee[V];if(0<a(q,fe))ee[V]=fe,ee[ie]=q,ie=V;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var fe=ee[0],ie=ee.pop();if(ie!==fe){ee[0]=ie;e:for(var V=0,q=ee.length,ce=q>>>1;V<ce;){var we=2*(V+1)-1,Te=ee[we],Re=we+1,Oe=ee[Re];if(0>a(Te,ie))Re<q&&0>a(Oe,Te)?(ee[V]=Oe,ee[Re]=ie,V=Re):(ee[V]=Te,ee[we]=ie,V=we);else if(Re<q&&0>a(Oe,ie))ee[V]=Oe,ee[Re]=ie,V=Re;else break e}}return fe}function a(ee,fe){var ie=ee.sortIndex-fe.sortIndex;return ie!==0?ie:ee.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],v=[],w=1,R=null,k=3,F=!1,j=!1,H=!1,B=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ee){for(var fe=n(v);fe!==null;){if(fe.callback===null)s(v);else if(fe.startTime<=ee)s(v),fe.sortIndex=fe.expirationTime,e(y,fe);else break;fe=n(v)}}function he(ee){if(H=!1,J(ee),!j)if(n(y)!==null)j=!0,Pt(Ie);else{var fe=n(v);fe!==null&&Ue(he,fe.startTime-ee)}}function Ie(ee,fe){j=!1,H&&(H=!1,Q(T),T=-1),F=!0;var ie=k;try{for(J(fe),R=n(y);R!==null&&(!(R.expirationTime>fe)||ee&&!N());){var V=R.callback;if(typeof V=="function"){R.callback=null,k=R.priorityLevel;var q=V(R.expirationTime<=fe);fe=i.unstable_now(),typeof q=="function"?R.callback=q:R===n(y)&&s(y),J(fe)}else s(y);R=n(y)}if(R!==null)var ce=!0;else{var we=n(v);we!==null&&Ue(he,we.startTime-fe),ce=!1}return ce}finally{R=null,k=ie,F=!1}}var Ee=!1,x=null,T=-1,I=5,P=-1;function N(){return!(i.unstable_now()-P<I)}function L(){if(x!==null){var ee=i.unstable_now();P=ee;var fe=!0;try{fe=x(!0,ee)}finally{fe?C():(Ee=!1,x=null)}}else Ee=!1}var C;if(typeof ne=="function")C=function(){ne(L)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,At=et.port2;et.port1.onmessage=L,C=function(){At.postMessage(null)}}else C=function(){B(L,0)};function Pt(ee){x=ee,Ee||(Ee=!0,C())}function Ue(ee,fe){T=B(function(){ee(i.unstable_now())},fe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){j||F||(j=!0,Pt(Ie))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return k},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(ee){switch(k){case 1:case 2:case 3:var fe=3;break;default:fe=k}var ie=k;k=fe;try{return ee()}finally{k=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,fe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=k;k=ee;try{return fe()}finally{k=ie}},i.unstable_scheduleCallback=function(ee,fe,ie){var V=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?V+ie:V):ie=V,ee){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ie+q,ee={id:w++,callback:fe,priorityLevel:ee,startTime:ie,expirationTime:q,sortIndex:-1},ie>V?(ee.sortIndex=ie,e(v,ee),n(y)===null&&ee===n(v)&&(H?(Q(T),T=-1):H=!0,Ue(he,ie-V))):(ee.sortIndex=q,e(y,ee),j||F||(j=!0,Pt(Ie))),ee},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(ee){var fe=k;return function(){var ie=k;k=fe;try{return ee.apply(this,arguments)}finally{k=ie}}}}(jc)),jc}var cp;function Ky(){return cp||(cp=1,Bc.exports=Wy()),Bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function Qy(){if(hp)return Qt;hp=1;var i=Ih(),e=Ky();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function k(t){return y.call(R,t)?!0:y.call(w,t)?!1:v.test(t)?R[t]=!0:(w[t]=!0,!1)}function F(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,r,o,u){if(r===null||typeof r>"u"||F(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function H(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new H(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];B[r]=new H(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new H(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new H(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new H(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new H(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new H(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new H(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new H(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function ne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Q,ne);B[r]=new H(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Q,ne);B[r]=new H(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Q,ne);B[r]=new H(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new H(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new H(t,1,!1,t.toLowerCase(),null,!0,!0)});function J(t,r,o,u){var h=B.hasOwnProperty(r)?B[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,o,h,u)&&(o=null),u||h===null?k(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var he=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ie=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ee=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,V;function q(t){if(V===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||""}return`
`+V+t}var ce=!1;function we(t,r){if(!t||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(z){var u=z}Reflect.construct(t,[],r)}else{try{r.call()}catch(z){u=z}t.call(r.prototype)}else{try{throw Error()}catch(z){u=z}t()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var h=z.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,S=p.length-1;1<=_&&0<=S&&h[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(h[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||h[_]!==p[S]){var A=`
`+h[_].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=_&&0<=S);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?q(t):""}function Te(t){switch(t.tag){case 5:return q(t.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Ee:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case et:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case At:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Oe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Me(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qn(t){t._valueTracker||(t._valueTracker=mt(t))}function Vi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jr(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Li(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Me(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ws(t,r){r=r.checked,r!=null&&J(t,"checked",r,!1)}function Ks(t,r){Ws(t,r);var o=Me(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Oi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Oi(t,r.type,Me(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function ca(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Oi(t,r,o){(r!=="number"||gr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Xn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Me(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Me(o)}}function Fi(t,r){var o=Me(r.value),u=Me(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Gs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yn,Xs=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function yr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ei=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){ei.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Zr[r]=Zr[t]})});function Ys(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+r).trim():r+"px"}function Js(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Ys(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var Zs=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eo(t,r){if(r){if(Zs[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function to(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ti=null;function Ui(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,sn=null,xn=null;function Bi(t){if(t=Ro(t)){if(typeof zi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ba(r),zi(t.stateNode,t.type,r))}}function Dn(t){sn?xn?xn.push(t):xn=[t]:sn=t}function no(){if(sn){var t=sn,r=xn;if(xn=sn=null,Bi(t),r)for(t=0;t<r.length;t++)Bi(r[t])}}function ni(t,r){return t(r)}function ro(){}var Jn=!1;function io(t,r,o){if(Jn)return t(r,o);Jn=!0;try{return ni(t,r,o)}finally{Jn=!1,(sn!==null||xn!==null)&&(ro(),no())}}function tt(t,r){var o=t.stateNode;if(o===null)return null;var u=Ba(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ji=!1;if(m)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){ji=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{ji=!1}function ri(t,r,o,u,h,p,_,S,A){var z=Array.prototype.slice.call(arguments,3);try{r.apply(o,z)}catch(G){this.onError(G)}}var ii=!1,bi=null,gn=!1,so=null,hu={onError:function(t){ii=!0,bi=t}};function $i(t,r,o,u,h,p,_,S,A){ii=!1,bi=null,ri.apply(hu,arguments)}function ha(t,r,o,u,h,p,_,S,A){if($i.apply(this,arguments),ii){if(ii){var z=bi;ii=!1,bi=null}else throw Error(n(198));gn||(gn=!0,so=z)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function si(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _n(t){if(yn(t)!==t)throw Error(n(188))}function fa(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return _n(h),t;if(p===u)return _n(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,S=h.child;S;){if(S===o){_=!0,o=h,u=p;break}if(S===u){_=!0,u=h,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,u=h;break}if(S===u){_=!0,u=p,o=h;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function oo(t){return t=fa(t),t!==null?Hi(t):null}function Hi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Hi(t);if(r!==null)return r;t=t.sibling}return null}var qi=e.unstable_scheduleCallback,ao=e.unstable_cancelCallback,da=e.unstable_shouldYield,fu=e.unstable_requestPaint,je=e.unstable_now,pa=e.unstable_getCurrentPriorityLevel,oi=e.unstable_ImmediatePriority,_r=e.unstable_UserBlockingPriority,on=e.unstable_NormalPriority,lo=e.unstable_LowPriority,ma=e.unstable_IdlePriority,ai=null,Yt=null;function ga(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(ai,t,void 0,(t.current.flags&128)===128)}catch{}}var Mt=Math.clz32?Math.clz32:_a,uo=Math.log,ya=Math.LN2;function _a(t){return t>>>=0,t===0?32:31-(uo(t)/ya|0)|0}var Wi=64,Ki=4194304;function vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function li(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~h;S!==0?u=vr(S):(p&=_,p!==0&&(u=vr(p)))}else _=o&~h,_!==0?u=vr(_):p!==0&&(u=vr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Mt(r),h=1<<o,u|=t[o],r&=~h;return u}function du(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Mt(p),S=1<<_,A=h[_];A===-1?(!(S&o)||S&u)&&(h[_]=du(S,r)):A<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ui(){var t=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),t}function Er(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function wr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Mt(r),t[r]=o}function ze(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Mt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Tr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Mt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ce=0;function Sr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var va,Qi,Ea,wa,Ta,co=!1,Nn=[],wt=null,vn=null,En=null,Ir=new Map,an=new Map,Vn=[],pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sa(t,r){switch(t){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":an.delete(r.pointerId)}}function jt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Ro(r),r!==null&&Qi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function mu(t,r,o,u,h){switch(r){case"focusin":return wt=jt(wt,t,r,o,u,h),!0;case"dragenter":return vn=jt(vn,t,r,o,u,h),!0;case"mouseover":return En=jt(En,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,jt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,an.set(p,jt(an.get(p)||null,t,r,o,u,h)),!0}return!1}function Ia(t){var r=pi(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=si(o),r!==null){t.blockedOn=r,Ta(t.priority,function(){Ea(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Gi(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ti=u,o.target.dispatchEvent(u),ti=null}else return r=Ro(o),r!==null&&Qi(r),t.blockedOn=o,!1;r.shift()}return!0}function ci(t,r,o){er(t)&&o.delete(r)}function Ca(){co=!1,wt!==null&&er(wt)&&(wt=null),vn!==null&&er(vn)&&(vn=null),En!==null&&er(En)&&(En=null),Ir.forEach(ci),an.forEach(ci)}function wn(t,r){t.blockedOn===r&&(t.blockedOn=null,co||(co=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ca)))}function Tn(t){function r(h){return wn(h,t)}if(0<Nn.length){wn(Nn[0],t);for(var o=1;o<Nn.length;o++){var u=Nn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(wt!==null&&wn(wt,t),vn!==null&&wn(vn,t),En!==null&&wn(En,t),Ir.forEach(r),an.forEach(r),o=0;o<Vn.length;o++)u=Vn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Vn.length&&(o=Vn[0],o.blockedOn===null);)Ia(o),o.blockedOn===null&&Vn.shift()}var tr=he.ReactCurrentBatchConfig,Cr=!0;function We(t,r,o,u){var h=Ce,p=tr.transition;tr.transition=null;try{Ce=1,ho(t,r,o,u)}finally{Ce=h,tr.transition=p}}function gu(t,r,o,u){var h=Ce,p=tr.transition;tr.transition=null;try{Ce=4,ho(t,r,o,u)}finally{Ce=h,tr.transition=p}}function ho(t,r,o,u){if(Cr){var h=Gi(t,r,o,u);if(h===null)Au(t,r,u,hi,o),Sa(t,u);else if(mu(h,t,r,o,u))u.stopPropagation();else if(Sa(t,u),r&4&&-1<pu.indexOf(t)){for(;h!==null;){var p=Ro(h);if(p!==null&&va(p),p=Gi(t,r,o,u),p===null&&Au(t,r,u,hi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Au(t,r,u,null,o)}}var hi=null;function Gi(t,r,o,u){if(hi=null,t=Ui(u),t=pi(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=si(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return hi=t,null}function fo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pa()){case oi:return 1;case _r:return 4;case on:case lo:return 16;case ma:return 536870912;default:return 16}default:return 16}}var Zt=null,Xi=null,bt=null;function po(){if(bt)return bt;var t,r=Xi,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function Yi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ln(){return!0}function mo(){return!1}function Tt(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ln:mo,this.isPropagationStopped=mo,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Tt(Sn),On=ie({},Sn,{view:0,detail:0}),yu=Tt(On),Zi,nr,Rr,fi=ie({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rr&&(Rr&&t.type==="mousemove"?(Zi=t.screenX-Rr.screenX,nr=t.screenY-Rr.screenY):nr=Zi=0,Rr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),es=Tt(fi),go=ie({},fi,{dataTransfer:0}),Ra=Tt(go),ts=ie({},On,{relatedTarget:0}),ns=Tt(ts),Aa=ie({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=Tt(Aa),Pa=ie({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=Tt(Pa),xa=ie({},Sn,{data:0}),yo=Tt(xa),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ft={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Da={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Na(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Da[t])?!!r[t]:!1}function Mn(){return Na}var l=ie({},On,{key:function(t){if(t.key){var r=rs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ft[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(t){return t.type==="keypress"?Yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Tt(l),g=ie({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Tt(g),O=ie({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn}),b=Tt(O),Z=ie({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fe=Tt(Z),ct=ie({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ae=Tt(ct),gt=[9,13,27,32],st=m&&"CompositionEvent"in window,ln=null;m&&"documentMode"in document&&(ln=document.documentMode);var en=m&&"TextEvent"in window&&!ln,di=m&&(!st||ln&&8<ln&&11>=ln),is=" ",Jh=!1;function Zh(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ef(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function jg(t,r){switch(t){case"compositionend":return ef(r);case"keypress":return r.which!==32?null:(Jh=!0,is);case"textInput":return t=r.data,t===is&&Jh?null:t;default:return null}}function bg(t,r){if(ss)return t==="compositionend"||!st&&Zh(t,r)?(t=po(),bt=Xi=Zt=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return di&&r.locale!=="ko"?null:r.data;default:return null}}var $g={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!$g[t.type]:r==="textarea"}function nf(t,r,o,u){Dn(u),r=Fa(r,"onChange"),0<r.length&&(o=new Ji("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var _o=null,vo=null;function Hg(t){wf(t,0)}function Va(t){var r=cs(t);if(Vi(r))return t}function qg(t,r){if(t==="change")return r}var rf=!1;if(m){var _u;if(m){var vu="oninput"in document;if(!vu){var sf=document.createElement("div");sf.setAttribute("oninput","return;"),vu=typeof sf.oninput=="function"}_u=vu}else _u=!1;rf=_u&&(!document.documentMode||9<document.documentMode)}function of(){_o&&(_o.detachEvent("onpropertychange",af),vo=_o=null)}function af(t){if(t.propertyName==="value"&&Va(vo)){var r=[];nf(r,vo,t,Ui(t)),io(Hg,r)}}function Wg(t,r,o){t==="focusin"?(of(),_o=r,vo=o,_o.attachEvent("onpropertychange",af)):t==="focusout"&&of()}function Kg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(vo)}function Qg(t,r){if(t==="click")return Va(r)}function Gg(t,r){if(t==="input"||t==="change")return Va(r)}function Xg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:Xg;function Eo(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!In(t[h],r[h]))return!1}return!0}function lf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uf(t,r){var o=lf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lf(o)}}function cf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?cf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function hf(){for(var t=window,r=gr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=gr(t.document)}return r}function Eu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Yg(t){var r=hf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&cf(o.ownerDocument.documentElement,o)){if(u!==null&&Eu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=uf(o,p);var _=uf(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jg=m&&"documentMode"in document&&11>=document.documentMode,os=null,wu=null,wo=null,Tu=!1;function ff(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tu||os==null||os!==gr(u)||(u=os,"selectionStart"in u&&Eu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),wo&&Eo(wo,u)||(wo=u,u=Fa(wu,"onSelect"),0<u.length&&(r=new Ji("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=os)))}function La(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var as={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},Su={},df={};m&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Oa(t){if(Su[t])return Su[t];if(!as[t])return t;var r=as[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in df)return Su[t]=r[o];return t}var pf=Oa("animationend"),mf=Oa("animationiteration"),gf=Oa("animationstart"),yf=Oa("transitionend"),_f=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,r){_f.set(t,r),c(r,[t])}for(var Iu=0;Iu<vf.length;Iu++){var Cu=vf[Iu],Zg=Cu.toLowerCase(),ey=Cu[0].toUpperCase()+Cu.slice(1);Ar(Zg,"on"+ey)}Ar(pf,"onAnimationEnd"),Ar(mf,"onAnimationIteration"),Ar(gf,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(yf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ty=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Ef(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ha(u,r,void 0,t),t.currentTarget=null}function wf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var S=u[_],A=S.instance,z=S.currentTarget;if(S=S.listener,A!==p&&h.isPropagationStopped())break e;Ef(h,S,z),p=A}else for(_=0;_<u.length;_++){if(S=u[_],A=S.instance,z=S.currentTarget,S=S.listener,A!==p&&h.isPropagationStopped())break e;Ef(h,S,z),p=A}}}if(gn)throw t=so,gn=!1,so=null,t}function $e(t,r){var o=r[Vu];o===void 0&&(o=r[Vu]=new Set);var u=t+"__bubble";o.has(u)||(Tf(r,t,2,!1),o.add(u))}function Ru(t,r,o){var u=0;r&&(u|=4),Tf(o,t,u,r)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[Ma]){t[Ma]=!0,s.forEach(function(o){o!=="selectionchange"&&(ty.has(o)||Ru(o,!1,t),Ru(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ma]||(r[Ma]=!0,Ru("selectionchange",!1,r))}}function Tf(t,r,o,u){switch(fo(r)){case 1:var h=We;break;case 4:h=gu;break;default:h=ho}o=h.bind(null,r,o,t),h=void 0,!ji||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Au(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var A=_.tag;if((A===3||A===4)&&(A=_.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(A=_.tag,A===5||A===6){u=p=_;continue e}S=S.parentNode}}u=u.return}io(function(){var z=p,G=Ui(o),X=[];e:{var K=_f.get(t);if(K!==void 0){var re=Ji,ae=t;switch(t){case"keypress":if(Yi(o)===0)break e;case"keydown":case"keyup":re=d;break;case"focusin":ae="focus",re=ns;break;case"focusout":ae="blur",re=ns;break;case"beforeblur":case"afterblur":re=ns;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=es;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ra;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=b;break;case pf:case mf:case gf:re=rr;break;case yf:re=Fe;break;case"scroll":re=yu;break;case"wheel":re=Ae;break;case"copy":case"cut":case"paste":re=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var le=(r&4)!==0,nt=!le&&t==="scroll",M=le?K!==null?K+"Capture":null:K;le=[];for(var D=z,U;D!==null;){U=D;var Y=U.stateNode;if(U.tag===5&&Y!==null&&(U=Y,M!==null&&(Y=tt(D,M),Y!=null&&le.push(Io(D,Y,U)))),nt)break;D=D.return}0<le.length&&(K=new re(K,ae,null,o,G),X.push({event:K,listeners:le}))}}if(!(r&7)){e:{if(K=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",K&&o!==ti&&(ae=o.relatedTarget||o.fromElement)&&(pi(ae)||ae[ir]))break e;if((re||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=z,ae=ae?pi(ae):null,ae!==null&&(nt=yn(ae),ae!==nt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=z),re!==ae)){if(le=es,Y="onMouseLeave",M="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,Y="onPointerLeave",M="onPointerEnter",D="pointer"),nt=re==null?K:cs(re),U=ae==null?K:cs(ae),K=new le(Y,D+"leave",re,o,G),K.target=nt,K.relatedTarget=U,Y=null,pi(G)===z&&(le=new le(M,D+"enter",ae,o,G),le.target=U,le.relatedTarget=nt,Y=le),nt=Y,re&&ae)t:{for(le=re,M=ae,D=0,U=le;U;U=ls(U))D++;for(U=0,Y=M;Y;Y=ls(Y))U++;for(;0<D-U;)le=ls(le),D--;for(;0<U-D;)M=ls(M),U--;for(;D--;){if(le===M||M!==null&&le===M.alternate)break t;le=ls(le),M=ls(M)}le=null}else le=null;re!==null&&Sf(X,K,re,le,!1),ae!==null&&nt!==null&&Sf(X,nt,ae,le,!0)}}e:{if(K=z?cs(z):window,re=K.nodeName&&K.nodeName.toLowerCase(),re==="select"||re==="input"&&K.type==="file")var ue=qg;else if(tf(K))if(rf)ue=Gg;else{ue=Kg;var de=Wg}else(re=K.nodeName)&&re.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ue=Qg);if(ue&&(ue=ue(t,z))){nf(X,ue,o,G);break e}de&&de(t,K,z),t==="focusout"&&(de=K._wrapperState)&&de.controlled&&K.type==="number"&&Oi(K,"number",K.value)}switch(de=z?cs(z):window,t){case"focusin":(tf(de)||de.contentEditable==="true")&&(os=de,wu=z,wo=null);break;case"focusout":wo=wu=os=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,ff(X,o,G);break;case"selectionchange":if(Jg)break;case"keydown":case"keyup":ff(X,o,G)}var pe;if(st)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else ss?Zh(t,o)&&(ye="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(di&&o.locale!=="ko"&&(ss||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&ss&&(pe=po()):(Zt=G,Xi="value"in Zt?Zt.value:Zt.textContent,ss=!0)),de=Fa(z,ye),0<de.length&&(ye=new yo(ye,t,null,o,G),X.push({event:ye,listeners:de}),pe?ye.data=pe:(pe=ef(o),pe!==null&&(ye.data=pe)))),(pe=en?jg(t,o):bg(t,o))&&(z=Fa(z,"onBeforeInput"),0<z.length&&(G=new yo("onBeforeInput","beforeinput",null,o,G),X.push({event:G,listeners:z}),G.data=pe))}wf(X,r)})}function Io(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Fa(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=tt(t,o),p!=null&&u.unshift(Io(t,p,h)),p=tt(t,r),p!=null&&u.push(Io(t,p,h))),t=t.return}return u}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var S=o,A=S.alternate,z=S.stateNode;if(A!==null&&A===u)break;S.tag===5&&z!==null&&(S=z,h?(A=tt(o,p),A!=null&&_.unshift(Io(o,A,S))):h||(A=tt(o,p),A!=null&&_.push(Io(o,A,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var ny=/\r\n?/g,ry=/\u0000|\uFFFD/g;function If(t){return(typeof t=="string"?t:""+t).replace(ny,`
`).replace(ry,"")}function Ua(t,r,o){if(r=If(r),If(t)!==r&&o)throw Error(n(425))}function za(){}var Pu=null,ku=null;function xu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,iy=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,sy=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(t){return Cf.resolve(null).then(t).catch(oy)}:Du;function oy(t){setTimeout(function(){throw t})}function Nu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Tn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Tn(r)}function Pr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Rf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var us=Math.random().toString(36).slice(2),Fn="__reactFiber$"+us,Co="__reactProps$"+us,ir="__reactContainer$"+us,Vu="__reactEvents$"+us,ay="__reactListeners$"+us,ly="__reactHandles$"+us;function pi(t){var r=t[Fn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ir]||o[Fn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Rf(t);t!==null;){if(o=t[Fn])return o;t=Rf(t)}return r}t=o,o=t.parentNode}return null}function Ro(t){return t=t[Fn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ba(t){return t[Co]||null}var Lu=[],hs=-1;function kr(t){return{current:t}}function He(t){0>hs||(t.current=Lu[hs],Lu[hs]=null,hs--)}function be(t,r){hs++,Lu[hs]=t.current,t.current=r}var xr={},kt=kr(xr),$t=kr(!1),mi=xr;function fs(t,r){var o=t.type.contextTypes;if(!o)return xr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function ja(){He($t),He(kt)}function Af(t,r,o){if(kt.current!==xr)throw Error(n(168));be(kt,r),be($t,o)}function Pf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Oe(t)||"Unknown",h));return ie({},o,u)}function ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xr,mi=kt.current,be(kt,t),be($t,$t.current),!0}function kf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Pf(t,r,mi),u.__reactInternalMemoizedMergedChildContext=t,He($t),He(kt),be(kt,t)):He($t),be($t,o)}var sr=null,$a=!1,Ou=!1;function xf(t){sr===null?sr=[t]:sr.push(t)}function uy(t){$a=!0,xf(t)}function Dr(){if(!Ou&&sr!==null){Ou=!0;var t=0,r=Ce;try{var o=sr;for(Ce=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}sr=null,$a=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),qi(oi,Dr),h}finally{Ce=r,Ou=!1}}return null}var ds=[],ps=0,Ha=null,qa=0,un=[],cn=0,gi=null,or=1,ar="";function yi(t,r){ds[ps++]=qa,ds[ps++]=Ha,Ha=t,qa=r}function Df(t,r,o){un[cn++]=or,un[cn++]=ar,un[cn++]=gi,gi=t;var u=or;t=ar;var h=32-Mt(u)-1;u&=~(1<<h),o+=1;var p=32-Mt(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,or=1<<32-Mt(r)+h|o<<h|u,ar=p+t}else or=1<<p|o<<h|u,ar=t}function Mu(t){t.return!==null&&(yi(t,1),Df(t,1,0))}function Fu(t){for(;t===Ha;)Ha=ds[--ps],ds[ps]=null,qa=ds[--ps],ds[ps]=null;for(;t===gi;)gi=un[--cn],un[cn]=null,ar=un[--cn],un[cn]=null,or=un[--cn],un[cn]=null}var tn=null,nn=null,Ke=!1,Cn=null;function Nf(t,r){var o=pn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Vf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Pr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=gi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=pn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zu(t){if(Ke){var r=nn;if(r){var o=r;if(!Vf(t,r)){if(Uu(t))throw Error(n(418));r=Pr(o.nextSibling);var u=tn;r&&Vf(t,r)?Nf(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(Uu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function Lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Wa(t){if(t!==tn)return!1;if(!Ke)return Lf(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!xu(t.type,t.memoizedProps)),r&&(r=nn)){if(Uu(t))throw Of(),Error(n(418));for(;r;)Nf(t,r),r=Pr(r.nextSibling)}if(Lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Pr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Pr(t.stateNode.nextSibling):null;return!0}function Of(){for(var t=nn;t;)t=Pr(t.nextSibling)}function ms(){nn=tn=null,Ke=!1}function Bu(t){Cn===null?Cn=[t]:Cn.push(t)}var cy=he.ReactCurrentBatchConfig;function Ao(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=h.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ka(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Mf(t){var r=t._init;return r(t._payload)}function Ff(t){function r(M,D){if(t){var U=M.deletions;U===null?(M.deletions=[D],M.flags|=16):U.push(D)}}function o(M,D){if(!t)return null;for(;D!==null;)r(M,D),D=D.sibling;return null}function u(M,D){for(M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function h(M,D){return M=zr(M,D),M.index=0,M.sibling=null,M}function p(M,D,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<D?(M.flags|=2,D):U):(M.flags|=2,D)):(M.flags|=1048576,D)}function _(M){return t&&M.alternate===null&&(M.flags|=2),M}function S(M,D,U,Y){return D===null||D.tag!==6?(D=Dc(U,M.mode,Y),D.return=M,D):(D=h(D,U),D.return=M,D)}function A(M,D,U,Y){var ue=U.type;return ue===x?G(M,D,U.props.children,Y,U.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Pt&&Mf(ue)===D.type)?(Y=h(D,U.props),Y.ref=Ao(M,D,U),Y.return=M,Y):(Y=yl(U.type,U.key,U.props,null,M.mode,Y),Y.ref=Ao(M,D,U),Y.return=M,Y)}function z(M,D,U,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Nc(U,M.mode,Y),D.return=M,D):(D=h(D,U.children||[]),D.return=M,D)}function G(M,D,U,Y,ue){return D===null||D.tag!==7?(D=Ci(U,M.mode,Y,ue),D.return=M,D):(D=h(D,U),D.return=M,D)}function X(M,D,U){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Dc(""+D,M.mode,U),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ie:return U=yl(D.type,D.key,D.props,null,M.mode,U),U.ref=Ao(M,null,D),U.return=M,U;case Ee:return D=Nc(D,M.mode,U),D.return=M,D;case Pt:var Y=D._init;return X(M,Y(D._payload),U)}if(Gn(D)||fe(D))return D=Ci(D,M.mode,U,null),D.return=M,D;Ka(M,D)}return null}function K(M,D,U,Y){var ue=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ue!==null?null:S(M,D,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:return U.key===ue?A(M,D,U,Y):null;case Ee:return U.key===ue?z(M,D,U,Y):null;case Pt:return ue=U._init,K(M,D,ue(U._payload),Y)}if(Gn(U)||fe(U))return ue!==null?null:G(M,D,U,Y,null);Ka(M,U)}return null}function re(M,D,U,Y,ue){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return M=M.get(U)||null,S(D,M,""+Y,ue);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Ie:return M=M.get(Y.key===null?U:Y.key)||null,A(D,M,Y,ue);case Ee:return M=M.get(Y.key===null?U:Y.key)||null,z(D,M,Y,ue);case Pt:var de=Y._init;return re(M,D,U,de(Y._payload),ue)}if(Gn(Y)||fe(Y))return M=M.get(U)||null,G(D,M,Y,ue,null);Ka(D,Y)}return null}function ae(M,D,U,Y){for(var ue=null,de=null,pe=D,ye=D=0,vt=null;pe!==null&&ye<U.length;ye++){pe.index>ye?(vt=pe,pe=null):vt=pe.sibling;var Le=K(M,pe,U[ye],Y);if(Le===null){pe===null&&(pe=vt);break}t&&pe&&Le.alternate===null&&r(M,pe),D=p(Le,D,ye),de===null?ue=Le:de.sibling=Le,de=Le,pe=vt}if(ye===U.length)return o(M,pe),Ke&&yi(M,ye),ue;if(pe===null){for(;ye<U.length;ye++)pe=X(M,U[ye],Y),pe!==null&&(D=p(pe,D,ye),de===null?ue=pe:de.sibling=pe,de=pe);return Ke&&yi(M,ye),ue}for(pe=u(M,pe);ye<U.length;ye++)vt=re(pe,M,ye,U[ye],Y),vt!==null&&(t&&vt.alternate!==null&&pe.delete(vt.key===null?ye:vt.key),D=p(vt,D,ye),de===null?ue=vt:de.sibling=vt,de=vt);return t&&pe.forEach(function(Br){return r(M,Br)}),Ke&&yi(M,ye),ue}function le(M,D,U,Y){var ue=fe(U);if(typeof ue!="function")throw Error(n(150));if(U=ue.call(U),U==null)throw Error(n(151));for(var de=ue=null,pe=D,ye=D=0,vt=null,Le=U.next();pe!==null&&!Le.done;ye++,Le=U.next()){pe.index>ye?(vt=pe,pe=null):vt=pe.sibling;var Br=K(M,pe,Le.value,Y);if(Br===null){pe===null&&(pe=vt);break}t&&pe&&Br.alternate===null&&r(M,pe),D=p(Br,D,ye),de===null?ue=Br:de.sibling=Br,de=Br,pe=vt}if(Le.done)return o(M,pe),Ke&&yi(M,ye),ue;if(pe===null){for(;!Le.done;ye++,Le=U.next())Le=X(M,Le.value,Y),Le!==null&&(D=p(Le,D,ye),de===null?ue=Le:de.sibling=Le,de=Le);return Ke&&yi(M,ye),ue}for(pe=u(M,pe);!Le.done;ye++,Le=U.next())Le=re(pe,M,ye,Le.value,Y),Le!==null&&(t&&Le.alternate!==null&&pe.delete(Le.key===null?ye:Le.key),D=p(Le,D,ye),de===null?ue=Le:de.sibling=Le,de=Le);return t&&pe.forEach(function(by){return r(M,by)}),Ke&&yi(M,ye),ue}function nt(M,D,U,Y){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ie:e:{for(var ue=U.key,de=D;de!==null;){if(de.key===ue){if(ue=U.type,ue===x){if(de.tag===7){o(M,de.sibling),D=h(de,U.props.children),D.return=M,M=D;break e}}else if(de.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Pt&&Mf(ue)===de.type){o(M,de.sibling),D=h(de,U.props),D.ref=Ao(M,de,U),D.return=M,M=D;break e}o(M,de);break}else r(M,de);de=de.sibling}U.type===x?(D=Ci(U.props.children,M.mode,Y,U.key),D.return=M,M=D):(Y=yl(U.type,U.key,U.props,null,M.mode,Y),Y.ref=Ao(M,D,U),Y.return=M,M=Y)}return _(M);case Ee:e:{for(de=U.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){o(M,D.sibling),D=h(D,U.children||[]),D.return=M,M=D;break e}else{o(M,D);break}else r(M,D);D=D.sibling}D=Nc(U,M.mode,Y),D.return=M,M=D}return _(M);case Pt:return de=U._init,nt(M,D,de(U._payload),Y)}if(Gn(U))return ae(M,D,U,Y);if(fe(U))return le(M,D,U,Y);Ka(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,D!==null&&D.tag===6?(o(M,D.sibling),D=h(D,U),D.return=M,M=D):(o(M,D),D=Dc(U,M.mode,Y),D.return=M,M=D),_(M)):o(M,D)}return nt}var gs=Ff(!0),Uf=Ff(!1),Qa=kr(null),Ga=null,ys=null,ju=null;function bu(){ju=ys=Ga=null}function $u(t){var r=Qa.current;He(Qa),t._currentValue=r}function Hu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function _s(t,r){Ga=t,ju=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(qt=!0),t.firstContext=null)}function hn(t){var r=t._currentValue;if(ju!==t)if(t={context:t,memoizedValue:r,next:null},ys===null){if(Ga===null)throw Error(n(308));ys=t,Ga.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return r}var _i=null;function qu(t){_i===null?_i=[t]:_i.push(t)}function zf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,qu(r)):(o.next=h.next,h.next=o),r.interleaved=o,lr(t,u)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Nr=!1;function Wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Vr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ne&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,lr(t,o)}return h=u.interleaved,h===null?(r.next=r,qu(u)):(r.next=h.next,h.next=r),u.interleaved=r,lr(t,o)}function Xa(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Tr(t,o)}}function jf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ya(t,r,o,u){var h=t.updateQueue;Nr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var A=S,z=A.next;A.next=null,_===null?p=z:_.next=z,_=A;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==_&&(S===null?G.firstBaseUpdate=z:S.next=z,G.lastBaseUpdate=A))}if(p!==null){var X=h.baseState;_=0,G=z=A=null,S=p;do{var K=S.lane,re=S.eventTime;if((u&K)===K){G!==null&&(G=G.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,le=S;switch(K=r,re=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){X=ae.call(re,X,K);break e}X=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,K=typeof ae=="function"?ae.call(re,X,K):ae,K==null)break e;X=ie({},X,K);break e;case 2:Nr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=h.effects,K===null?h.effects=[S]:K.push(S))}else re={eventTime:re,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(z=G=re,A=X):G=G.next=re,_|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(G===null&&(A=X),h.baseState=A,h.firstBaseUpdate=z,h.lastBaseUpdate=G,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);wi|=_,t.lanes=_,t.memoizedState=X}}function bf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Po={},Un=kr(Po),ko=kr(Po),xo=kr(Po);function vi(t){if(t===Po)throw Error(n(174));return t}function Ku(t,r){switch(be(xo,r),be(ko,t),be(Un,Po),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}He(Un),be(Un,r)}function vs(){He(Un),He(ko),He(xo)}function $f(t){vi(xo.current);var r=vi(Un.current),o=ut(r,t.type);r!==o&&(be(ko,t),be(Un,o))}function Qu(t){ko.current===t&&(He(Un),He(ko))}var Qe=kr(0);function Ja(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gu=[];function Xu(){for(var t=0;t<Gu.length;t++)Gu[t]._workInProgressVersionPrimary=null;Gu.length=0}var Za=he.ReactCurrentDispatcher,Yu=he.ReactCurrentBatchConfig,Ei=0,Ge=null,ht=null,yt=null,el=!1,Do=!1,No=0,hy=0;function xt(){throw Error(n(321))}function Ju(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!In(t[o],r[o]))return!1;return!0}function Zu(t,r,o,u,h,p){if(Ei=p,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Za.current=t===null||t.memoizedState===null?my:gy,t=o(u,h),Do){p=0;do{if(Do=!1,No=0,25<=p)throw Error(n(301));p+=1,yt=ht=null,r.updateQueue=null,Za.current=yy,t=o(u,h)}while(Do)}if(Za.current=rl,r=ht!==null&&ht.next!==null,Ei=0,yt=ht=Ge=null,el=!1,r)throw Error(n(300));return t}function ec(){var t=No!==0;return No=0,t}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ge.memoizedState=yt=t:yt=yt.next=t,yt}function fn(){if(ht===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=yt===null?Ge.memoizedState:yt.next;if(r!==null)yt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},yt===null?Ge.memoizedState=yt=t:yt=yt.next=t}return yt}function Vo(t,r){return typeof r=="function"?r(t):r}function tc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var S=_=null,A=null,z=p;do{var G=z.lane;if((Ei&G)===G)A!==null&&(A=A.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:t(u,z.action);else{var X={lane:G,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};A===null?(S=A=X,_=u):A=A.next=X,Ge.lanes|=G,wi|=G}z=z.next}while(z!==null&&z!==p);A===null?_=u:A.next=S,In(u,r.memoizedState)||(qt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=A,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ge.lanes|=p,wi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function nc(t){var r=fn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);In(p,r.memoizedState)||(qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Hf(){}function qf(t,r){var o=Ge,u=fn(),h=r(),p=!In(u.memoizedState,h);if(p&&(u.memoizedState=h,qt=!0),u=u.queue,rc(Qf.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,Lo(9,Kf.bind(null,o,u,h,r),void 0,null),_t===null)throw Error(n(349));Ei&30||Wf(o,r,h)}return h}function Wf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Kf(t,r,o,u){r.value=o,r.getSnapshot=u,Gf(r)&&Xf(t)}function Qf(t,r,o){return o(function(){Gf(r)&&Xf(t)})}function Gf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!In(t,o)}catch{return!0}}function Xf(t){var r=lr(t,1);r!==null&&kn(r,t,1,-1)}function Yf(t){var r=zn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:t},r.queue=t,t=t.dispatch=py.bind(null,Ge,t),[r.memoizedState,t]}function Lo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Jf(){return fn().memoizedState}function tl(t,r,o,u){var h=zn();Ge.flags|=t,h.memoizedState=Lo(1|r,o,void 0,u===void 0?null:u)}function nl(t,r,o,u){var h=fn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var _=ht.memoizedState;if(p=_.destroy,u!==null&&Ju(u,_.deps)){h.memoizedState=Lo(r,o,p,u);return}}Ge.flags|=t,h.memoizedState=Lo(1|r,o,p,u)}function Zf(t,r){return tl(8390656,8,t,r)}function rc(t,r){return nl(2048,8,t,r)}function ed(t,r){return nl(4,2,t,r)}function td(t,r){return nl(4,4,t,r)}function nd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function rd(t,r,o){return o=o!=null?o.concat([t]):null,nl(4,4,nd.bind(null,r,t),o)}function ic(){}function id(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ju(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function sd(t,r){var o=fn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Ju(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function od(t,r,o){return Ei&21?(In(o,r)||(o=ui(),Ge.lanes|=o,wi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=o)}function fy(t,r){var o=Ce;Ce=o!==0&&4>o?o:4,t(!0);var u=Yu.transition;Yu.transition={};try{t(!1),r()}finally{Ce=o,Yu.transition=u}}function ad(){return fn().memoizedState}function dy(t,r,o){var u=Fr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},ld(t))ud(r,o);else if(o=zf(t,r,o,u),o!==null){var h=zt();kn(o,t,u,h),cd(o,r,u)}}function py(t,r,o){var u=Fr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(ld(t))ud(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(h.hasEagerState=!0,h.eagerState=S,In(S,_)){var A=r.interleaved;A===null?(h.next=h,qu(r)):(h.next=A.next,A.next=h),r.interleaved=h;return}}catch{}finally{}o=zf(t,r,h,u),o!==null&&(h=zt(),kn(o,t,u,h),cd(o,r,u))}}function ld(t){var r=t.alternate;return t===Ge||r!==null&&r===Ge}function ud(t,r){Do=el=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function cd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Tr(t,o)}}var rl={readContext:hn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},my={readContext:hn,useCallback:function(t,r){return zn().memoizedState=[t,r===void 0?null:r],t},useContext:hn,useEffect:Zf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,tl(4194308,4,nd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return tl(4194308,4,t,r)},useInsertionEffect:function(t,r){return tl(4,2,t,r)},useMemo:function(t,r){var o=zn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=zn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=dy.bind(null,Ge,t),[u.memoizedState,t]},useRef:function(t){var r=zn();return t={current:t},r.memoizedState=t},useState:Yf,useDebugValue:ic,useDeferredValue:function(t){return zn().memoizedState=t},useTransition:function(){var t=Yf(!1),r=t[0];return t=fy.bind(null,t[1]),zn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ge,h=zn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));Ei&30||Wf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,Zf(Qf.bind(null,u,p,t),[t]),u.flags|=2048,Lo(9,Kf.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=zn(),r=_t.identifierPrefix;if(Ke){var o=ar,u=or;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=No++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=hy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},gy={readContext:hn,useCallback:id,useContext:hn,useEffect:rc,useImperativeHandle:rd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:sd,useReducer:tc,useRef:Jf,useState:function(){return tc(Vo)},useDebugValue:ic,useDeferredValue:function(t){var r=fn();return od(r,ht.memoizedState,t)},useTransition:function(){var t=tc(Vo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Hf,useSyncExternalStore:qf,useId:ad,unstable_isNewReconciler:!1},yy={readContext:hn,useCallback:id,useContext:hn,useEffect:rc,useImperativeHandle:rd,useInsertionEffect:ed,useLayoutEffect:td,useMemo:sd,useReducer:nc,useRef:Jf,useState:function(){return nc(Vo)},useDebugValue:ic,useDeferredValue:function(t){var r=fn();return ht===null?r.memoizedState=t:od(r,ht.memoizedState,t)},useTransition:function(){var t=nc(Vo)[0],r=fn().memoizedState;return[t,r]},useMutableSource:Hf,useSyncExternalStore:qf,useId:ad,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function sc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var il={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Fr(t),p=ur(u,h);p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(kn(r,t,h,u),Xa(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=Fr(t),p=ur(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Vr(t,p,h),r!==null&&(kn(r,t,h,u),Xa(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=Fr(t),h=ur(o,u);h.tag=2,r!=null&&(h.callback=r),r=Vr(t,h,u),r!==null&&(kn(r,t,u,o),Xa(r,t,u))}};function hd(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!Eo(o,u)||!Eo(h,p):!0}function fd(t,r,o){var u=!1,h=xr,p=r.contextType;return typeof p=="object"&&p!==null?p=hn(p):(h=Ht(r)?mi:kt.current,u=r.contextTypes,p=(u=u!=null)?fs(t,h):xr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=il,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function dd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&il.enqueueReplaceState(r,r.state,null)}function oc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},Wu(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=hn(p):(p=Ht(r)?mi:kt.current,h.context=fs(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(sc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&il.enqueueReplaceState(h,h.state,null),Ya(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,r){try{var o="",u=r;do o+=Te(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function ac(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function lc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var _y=typeof WeakMap=="function"?WeakMap:Map;function pd(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){hl||(hl=!0,Sc=u),lc(t,r)},o}function md(t,r,o){o=ur(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){lc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){lc(t,r),typeof u!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function gd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new _y;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Ny.bind(null,t,r,o),r.then(t,t))}function yd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function _d(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Vr(o,r,1))),o.lanes|=1),t)}var vy=he.ReactCurrentOwner,qt=!1;function Ut(t,r,o,u){r.child=t===null?Uf(r,null,o,u):gs(r,t.child,o,u)}function vd(t,r,o,u,h){o=o.render;var p=r.ref;return _s(r,h),u=Zu(t,r,o,u,p,h),o=ec(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ke&&o&&Mu(r),r.flags|=1,Ut(t,r,u,h),r.child)}function Ed(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!xc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,wd(t,r,p,u,h)):(t=yl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Eo,o(_,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=zr(p,u),t.ref=r.ref,t.return=r,r.child=t}function wd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(Eo(p,u)&&t.ref===r.ref)if(qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(qt=!0);else return r.lanes=t.lanes,cr(t,r,h)}return uc(t,r,o,u,h)}function Td(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Ts,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,be(Ts,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,be(Ts,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,be(Ts,rn),rn|=u;return Ut(t,r,h,o),r.child}function Sd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function uc(t,r,o,u,h){var p=Ht(o)?mi:kt.current;return p=fs(r,p),_s(r,h),o=Zu(t,r,o,u,p,h),u=ec(),t!==null&&!qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ke&&u&&Mu(r),r.flags|=1,Ut(t,r,o,h),r.child)}function Id(t,r,o,u,h){if(Ht(o)){var p=!0;ba(r)}else p=!1;if(_s(r,h),r.stateNode===null)ol(t,r),fd(r,o,u),oc(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var A=_.context,z=o.contextType;typeof z=="object"&&z!==null?z=hn(z):(z=Ht(o)?mi:kt.current,z=fs(r,z));var G=o.getDerivedStateFromProps,X=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function";X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==u||A!==z)&&dd(r,_,u,z),Nr=!1;var K=r.memoizedState;_.state=K,Ya(r,u,_,h),A=r.memoizedState,S!==u||K!==A||$t.current||Nr?(typeof G=="function"&&(sc(r,o,G,u),A=r.memoizedState),(S=Nr||hd(r,o,S,u,K,A,z))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=A),_.props=u,_.state=A,_.context=z,u=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Bf(t,r),S=r.memoizedProps,z=r.type===r.elementType?S:Rn(r.type,S),_.props=z,X=r.pendingProps,K=_.context,A=o.contextType,typeof A=="object"&&A!==null?A=hn(A):(A=Ht(o)?mi:kt.current,A=fs(r,A));var re=o.getDerivedStateFromProps;(G=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==X||K!==A)&&dd(r,_,u,A),Nr=!1,K=r.memoizedState,_.state=K,Ya(r,u,_,h);var ae=r.memoizedState;S!==X||K!==ae||$t.current||Nr?(typeof re=="function"&&(sc(r,o,re,u),ae=r.memoizedState),(z=Nr||hd(r,o,z,u,K,ae,A)||!1)?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ae,A),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ae,A)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),_.props=u,_.state=ae,_.context=A,u=z):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),u=!1)}return cc(t,r,o,u,p,h)}function cc(t,r,o,u,h,p){Sd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&kf(r,o,!1),cr(t,r,p);u=r.stateNode,vy.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=gs(r,t.child,null,p),r.child=gs(r,null,S,p)):Ut(t,r,S,p),r.memoizedState=u.state,h&&kf(r,o,!0),r.child}function Cd(t){var r=t.stateNode;r.pendingContext?Af(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Af(t,r.context,!1),Ku(t,r.containerInfo)}function Rd(t,r,o,u,h){return ms(),Bu(h),r.flags|=256,Ut(t,r,o,u),r.child}var hc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ad(t,r,o){var u=r.pendingProps,h=Qe.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(h&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),be(Qe,h&1),t===null)return zu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=_l(_,u,0,null),t=Ci(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=fc(o),r.memoizedState=hc,t):dc(r,_));if(h=t.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return Ey(t,r,_,u,S,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,S=h.sibling;var A={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=A,r.deletions=null):(u=zr(h,A),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?p=zr(S,p):(p=Ci(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?fc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=hc,u}return p=t.child,t=p.sibling,u=zr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function dc(t,r){return r=_l({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function sl(t,r,o,u){return u!==null&&Bu(u),gs(r,t.child,null,o),t=dc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Ey(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=ac(Error(n(422))),sl(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=_l({mode:"visible",children:u.children},h,0,null),p=Ci(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&gs(r,t.child,null,_),r.child.memoizedState=fc(_),r.memoizedState=hc,p);if(!(r.mode&1))return sl(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=ac(p,u,void 0),sl(t,r,_,u)}if(S=(_&t.childLanes)!==0,qt||S){if(u=_t,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,lr(t,h),kn(u,t,h,-1))}return kc(),u=ac(Error(n(421))),sl(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Vy.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Pr(h.nextSibling),tn=r,Ke=!0,Cn=null,t!==null&&(un[cn++]=or,un[cn++]=ar,un[cn++]=gi,or=t.id,ar=t.overflow,gi=r),r=dc(r,u.children),r.flags|=4096,r)}function Pd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Hu(t.return,r,o)}function pc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function kd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Ut(t,r,u.children,o),u=Qe.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pd(t,o,r);else if(t.tag===19)Pd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(be(Qe,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&Ja(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),pc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ja(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}pc(r,!0,o,null,p);break;case"together":pc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ol(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),wi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=zr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=zr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function wy(t,r,o){switch(r.tag){case 3:Cd(r),ms();break;case 5:$f(r);break;case 1:Ht(r.type)&&ba(r);break;case 4:Ku(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;be(Qa,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(be(Qe,Qe.current&1),r.flags|=128,null):o&r.child.childLanes?Ad(t,r,o):(be(Qe,Qe.current&1),t=cr(t,r,o),t!==null?t.sibling:null);be(Qe,Qe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return kd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),be(Qe,Qe.current),u)break;return null;case 22:case 23:return r.lanes=0,Td(t,r,o)}return cr(t,r,o)}var xd,mc,Dd,Nd;xd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},mc=function(){},Dd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,vi(Un.current);var p=null;switch(o){case"input":h=Jr(t,h),u=Jr(t,u),p=[];break;case"select":h=ie({},h,{value:void 0}),u=ie({},u,{value:void 0}),p=[];break;case"textarea":h=Qs(t,h),u=Qs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=za)}eo(o,u);var _;o=null;for(z in h)if(!u.hasOwnProperty(z)&&h.hasOwnProperty(z)&&h[z]!=null)if(z==="style"){var S=h[z];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(a.hasOwnProperty(z)?p||(p=[]):(p=p||[]).push(z,null));for(z in u){var A=u[z];if(S=h!=null?h[z]:void 0,u.hasOwnProperty(z)&&A!==S&&(A!=null||S!=null))if(z==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||A&&A.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in A)A.hasOwnProperty(_)&&S[_]!==A[_]&&(o||(o={}),o[_]=A[_])}else o||(p||(p=[]),p.push(z,o)),o=A;else z==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,S=S?S.__html:void 0,A!=null&&S!==A&&(p=p||[]).push(z,A)):z==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(z,""+A):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(a.hasOwnProperty(z)?(A!=null&&z==="onScroll"&&$e("scroll",t),p||S===A||(p=[])):(p=p||[]).push(z,A))}o&&(p=p||[]).push("style",o);var z=p;(r.updateQueue=z)&&(r.flags|=4)}},Nd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Oo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Ty(t,r,o){var u=r.pendingProps;switch(Fu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Ht(r.type)&&ja(),Dt(r),null;case 3:return u=r.stateNode,vs(),He($t),He(kt),Xu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Wa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Cn!==null&&(Rc(Cn),Cn=null))),mc(t,r),Dt(r),null;case 5:Qu(r);var h=vi(xo.current);if(o=r.type,t!==null&&r.stateNode!=null)Dd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=vi(Un.current),Wa(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[Fn]=r,u[Co]=p,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<To.length;h++)$e(To[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":Li(u,p),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},$e("invalid",u);break;case"textarea":Mi(u,p),$e("invalid",u)}eo(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&Ua(u.textContent,S,t),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Ua(u.textContent,S,t),h=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&$e("scroll",u)}switch(o){case"input":Qn(u),ca(u,p,!0);break;case"textarea":Qn(u),Gs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=za)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[Fn]=r,t[Co]=u,xd(t,r,!1,!1),r.stateNode=t;e:{switch(_=to(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<To.length;h++)$e(To[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":Li(t,u),h=Jr(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ie({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Mi(t,u),h=Qs(t,u),$e("invalid",t);break;default:h=u}eo(o,h),S=h;for(p in S)if(S.hasOwnProperty(p)){var A=S[p];p==="style"?Js(t,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Xs(t,A)):p==="children"?typeof A=="string"?(o!=="textarea"||A!=="")&&yr(t,A):typeof A=="number"&&yr(t,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?A!=null&&p==="onScroll"&&$e("scroll",t):A!=null&&J(t,p,A,_))}switch(o){case"input":Qn(t),ca(t,u,!1);break;case"textarea":Qn(t),Gs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Me(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Xn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Xn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=za)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)Nd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=vi(xo.current),vi(Un.current),Wa(r)){if(u=r.stateNode,o=r.memoizedProps,u[Fn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Ua(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ua(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Fn]=r,r.stateNode=u}return Dt(r),null;case 13:if(He(Qe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))Of(),ms(),r.flags|=98560,p=!1;else if(p=Wa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Fn]=r}else ms(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else Cn!==null&&(Rc(Cn),Cn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Qe.current&1?ft===0&&(ft=3):kc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return vs(),mc(t,r),t===null&&So(r.stateNode.containerInfo),Dt(r),null;case 10:return $u(r.type._context),Dt(r),null;case 17:return Ht(r.type)&&ja(),Dt(r),null;case 19:if(He(Qe),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Oo(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=Ja(t),_!==null){for(r.flags|=128,Oo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return be(Qe,Qe.current&1|2),r.child}t=t.sibling}p.tail!==null&&je()>Ss&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304)}else{if(!u)if(t=Ja(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ke)return Dt(r),null}else 2*je()-p.renderingStartTime>Ss&&o!==1073741824&&(r.flags|=128,u=!0,Oo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=je(),r.sibling=null,o=Qe.current,be(Qe,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Pc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Sy(t,r){switch(Fu(r),r.tag){case 1:return Ht(r.type)&&ja(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vs(),He($t),He(kt),Xu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Qu(r),null;case 13:if(He(Qe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ms()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return He(Qe),null;case 4:return vs(),null;case 10:return $u(r.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var al=!1,Nt=!1,Iy=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ws(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Je(t,r,u)}else o.current=null}function gc(t,r,o){try{o()}catch(u){Je(t,r,u)}}var Vd=!1;function Cy(t,r){if(Pu=Cr,t=hf(),Eu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,A=-1,z=0,G=0,X=t,K=null;t:for(;;){for(var re;X!==o||h!==0&&X.nodeType!==3||(S=_+h),X!==p||u!==0&&X.nodeType!==3||(A=_+u),X.nodeType===3&&(_+=X.nodeValue.length),(re=X.firstChild)!==null;)K=X,X=re;for(;;){if(X===t)break t;if(K===o&&++z===h&&(S=_),K===p&&++G===u&&(A=_),(re=X.nextSibling)!==null)break;X=K,K=X.parentNode}X=re}o=S===-1||A===-1?null:{start:S,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(ku={focusedElem:t,selectionRange:o},Cr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,nt=ae.memoizedState,M=r.stateNode,D=M.getSnapshotBeforeUpdate(r.elementType===r.type?le:Rn(r.type,le),nt);M.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){Je(r,r.return,Y)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=Vd,Vd=!1,ae}function Mo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&gc(r,o,p)}h=h.next}while(h!==u)}}function ll(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function yc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Ld(t){var r=t.alternate;r!==null&&(t.alternate=null,Ld(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Fn],delete r[Co],delete r[Vu],delete r[ay],delete r[ly])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Od(t){return t.tag===5||t.tag===3||t.tag===4}function Md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Od(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _c(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=za));else if(u!==4&&(t=t.child,t!==null))for(_c(t,r,o),t=t.sibling;t!==null;)_c(t,r,o),t=t.sibling}function vc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(vc(t,r,o),t=t.sibling;t!==null;)vc(t,r,o),t=t.sibling}var St=null,An=!1;function Lr(t,r,o){for(o=o.child;o!==null;)Fd(t,r,o),o=o.sibling}function Fd(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(ai,o)}catch{}switch(o.tag){case 5:Nt||ws(o,r);case 6:var u=St,h=An;St=null,Lr(t,r,o),St=u,An=h,St!==null&&(An?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(An?(t=St,o=o.stateNode,t.nodeType===8?Nu(t.parentNode,o):t.nodeType===1&&Nu(t,o),Tn(t)):Nu(St,o.stateNode));break;case 4:u=St,h=An,St=o.stateNode.containerInfo,An=!0,Lr(t,r,o),St=u,An=h;break;case 0:case 11:case 14:case 15:if(!Nt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&gc(o,r,_),h=h.next}while(h!==u)}Lr(t,r,o);break;case 1:if(!Nt&&(ws(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Je(o,r,S)}Lr(t,r,o);break;case 21:Lr(t,r,o);break;case 22:o.mode&1?(Nt=(u=Nt)||o.memoizedState!==null,Lr(t,r,o),Nt=u):Lr(t,r,o);break;default:Lr(t,r,o)}}function Ud(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Iy),r.forEach(function(u){var h=Ly.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Pn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:St=S.stateNode,An=!1;break e;case 3:St=S.stateNode.containerInfo,An=!0;break e;case 4:St=S.stateNode.containerInfo,An=!0;break e}S=S.return}if(St===null)throw Error(n(160));Fd(p,_,h),St=null,An=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(z){Je(h,r,z)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)zd(r,t),r=r.sibling}function zd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(r,t),Bn(t),u&4){try{Mo(3,t,t.return),ll(3,t)}catch(le){Je(t,t.return,le)}try{Mo(5,t,t.return)}catch(le){Je(t,t.return,le)}}break;case 1:Pn(r,t),Bn(t),u&512&&o!==null&&ws(o,o.return);break;case 5:if(Pn(r,t),Bn(t),u&512&&o!==null&&ws(o,o.return),t.flags&32){var h=t.stateNode;try{yr(h,"")}catch(le){Je(t,t.return,le)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Ws(h,p),to(S,_);var z=to(S,p);for(_=0;_<A.length;_+=2){var G=A[_],X=A[_+1];G==="style"?Js(h,X):G==="dangerouslySetInnerHTML"?Xs(h,X):G==="children"?yr(h,X):J(h,G,X,z)}switch(S){case"input":Ks(h,p);break;case"textarea":Fi(h,p);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Xn(h,!!p.multiple,re,!1):K!==!!p.multiple&&(p.defaultValue!=null?Xn(h,!!p.multiple,p.defaultValue,!0):Xn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Co]=p}catch(le){Je(t,t.return,le)}}break;case 6:if(Pn(r,t),Bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(le){Je(t,t.return,le)}}break;case 3:if(Pn(r,t),Bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tn(r.containerInfo)}catch(le){Je(t,t.return,le)}break;case 4:Pn(r,t),Bn(t);break;case 13:Pn(r,t),Bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Tc=je())),u&4&&Ud(t);break;case 22:if(G=o!==null&&o.memoizedState!==null,t.mode&1?(Nt=(z=Nt)||G,Pn(r,t),Nt=z):Pn(r,t),Bn(t),u&8192){if(z=t.memoizedState!==null,(t.stateNode.isHidden=z)&&!G&&t.mode&1)for(oe=t,G=t.child;G!==null;){for(X=oe=G;oe!==null;){switch(K=oe,re=K.child,K.tag){case 0:case 11:case 14:case 15:Mo(4,K,K.return);break;case 1:ws(K,K.return);var ae=K.stateNode;if(typeof ae.componentWillUnmount=="function"){u=K,o=K.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){Je(u,o,le)}}break;case 5:ws(K,K.return);break;case 22:if(K.memoizedState!==null){bd(X);continue}}re!==null?(re.return=K,oe=re):bd(X)}G=G.sibling}e:for(G=null,X=t;;){if(X.tag===5){if(G===null){G=X;try{h=X.stateNode,z?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=X.stateNode,A=X.memoizedProps.style,_=A!=null&&A.hasOwnProperty("display")?A.display:null,S.style.display=Ys("display",_))}catch(le){Je(t,t.return,le)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=z?"":X.memoizedProps}catch(le){Je(t,t.return,le)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===t)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===t)break e;for(;X.sibling===null;){if(X.return===null||X.return===t)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Pn(r,t),Bn(t),u&4&&Ud(t);break;case 21:break;default:Pn(r,t),Bn(t)}}function Bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Od(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(yr(h,""),u.flags&=-33);var p=Md(t);vc(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,S=Md(t);_c(t,S,_);break;default:throw Error(n(161))}}catch(A){Je(t,t.return,A)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ry(t,r,o){oe=t,Bd(t)}function Bd(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var h=oe,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||al;if(!_){var S=h.alternate,A=S!==null&&S.memoizedState!==null||Nt;S=al;var z=Nt;if(al=_,(Nt=A)&&!z)for(oe=h;oe!==null;)_=oe,A=_.child,_.tag===22&&_.memoizedState!==null?$d(h):A!==null?(A.return=_,oe=A):$d(h);for(;p!==null;)oe=p,Bd(p),p=p.sibling;oe=h,al=S,Nt=z}jd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,oe=p):jd(t)}}function jd(t){for(;oe!==null;){var r=oe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Nt||ll(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Nt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&bf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}bf(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&o.focus();break;case"img":A.src&&(o.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var z=r.alternate;if(z!==null){var G=z.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&Tn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nt||r.flags&512&&yc(r)}catch(K){Je(r,r.return,K)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function bd(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function $d(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{ll(4,r)}catch(A){Je(r,o,A)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(A){Je(r,h,A)}}var p=r.return;try{yc(r)}catch(A){Je(r,p,A)}break;case 5:var _=r.return;try{yc(r)}catch(A){Je(r,_,A)}}}catch(A){Je(r,r.return,A)}if(r===t){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var Ay=Math.ceil,ul=he.ReactCurrentDispatcher,Ec=he.ReactCurrentOwner,dn=he.ReactCurrentBatchConfig,Ne=0,_t=null,ot=null,It=0,rn=0,Ts=kr(0),ft=0,Fo=null,wi=0,cl=0,wc=0,Uo=null,Wt=null,Tc=0,Ss=1/0,hr=null,hl=!1,Sc=null,Or=null,fl=!1,Mr=null,dl=0,zo=0,Ic=null,pl=-1,ml=0;function zt(){return Ne&6?je():pl!==-1?pl:pl=je()}function Fr(t){return t.mode&1?Ne&2&&It!==0?It&-It:cy.transition!==null?(ml===0&&(ml=ui()),ml):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:fo(t.type)),t):1}function kn(t,r,o,u){if(50<zo)throw zo=0,Ic=null,Error(n(185));wr(t,o,u),(!(Ne&2)||t!==_t)&&(t===_t&&(!(Ne&2)&&(cl|=o),ft===4&&Ur(t,It)),Kt(t,u),o===1&&Ne===0&&!(r.mode&1)&&(Ss=je()+500,$a&&Dr()))}function Kt(t,r){var o=t.callbackNode;Zn(t,r);var u=li(t,t===_t?It:0);if(u===0)o!==null&&ao(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ao(o),r===1)t.tag===0?uy(qd.bind(null,t)):xf(qd.bind(null,t)),sy(function(){!(Ne&6)&&Dr()}),o=null;else{switch(Sr(u)){case 1:o=oi;break;case 4:o=_r;break;case 16:o=on;break;case 536870912:o=ma;break;default:o=on}o=Zd(o,Hd.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Hd(t,r){if(pl=-1,ml=0,Ne&6)throw Error(n(327));var o=t.callbackNode;if(Is()&&t.callbackNode!==o)return null;var u=li(t,t===_t?It:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=gl(t,u);else{r=u;var h=Ne;Ne|=2;var p=Kd();(_t!==t||It!==r)&&(hr=null,Ss=je()+500,Si(t,r));do try{xy();break}catch(S){Wd(t,S)}while(!0);bu(),ul.current=p,Ne=h,ot!==null?r=0:(_t=null,It=0,r=ft)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Cc(t,h))),r===1)throw o=Fo,Si(t,0),Ur(t,u),Kt(t,je()),o;if(r===6)Ur(t,u);else{if(h=t.current.alternate,!(u&30)&&!Py(h)&&(r=gl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Cc(t,p))),r===1))throw o=Fo,Si(t,0),Ur(t,u),Kt(t,je()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ii(t,Wt,hr);break;case 3:if(Ur(t,u),(u&130023424)===u&&(r=Tc+500-je(),10<r)){if(li(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Du(Ii.bind(null,t,Wt,hr),r);break}Ii(t,Wt,hr);break;case 4:if(Ur(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Mt(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Ay(u/1960))-u,10<u){t.timeoutHandle=Du(Ii.bind(null,t,Wt,hr),u);break}Ii(t,Wt,hr);break;case 5:Ii(t,Wt,hr);break;default:throw Error(n(329))}}}return Kt(t,je()),t.callbackNode===o?Hd.bind(null,t):null}function Cc(t,r){var o=Uo;return t.current.memoizedState.isDehydrated&&(Si(t,r).flags|=256),t=gl(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&Rc(r)),t}function Rc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function Py(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!In(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(t,r){for(r&=~wc,r&=~cl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Mt(r),u=1<<o;t[o]=-1,r&=~u}}function qd(t){if(Ne&6)throw Error(n(327));Is();var r=li(t,0);if(!(r&1))return Kt(t,je()),null;var o=gl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Cc(t,u))}if(o===1)throw o=Fo,Si(t,0),Ur(t,r),Kt(t,je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ii(t,Wt,hr),Kt(t,je()),null}function Ac(t,r){var o=Ne;Ne|=1;try{return t(r)}finally{Ne=o,Ne===0&&(Ss=je()+500,$a&&Dr())}}function Ti(t){Mr!==null&&Mr.tag===0&&!(Ne&6)&&Is();var r=Ne;Ne|=1;var o=dn.transition,u=Ce;try{if(dn.transition=null,Ce=1,t)return t()}finally{Ce=u,dn.transition=o,Ne=r,!(Ne&6)&&Dr()}}function Pc(){rn=Ts.current,He(Ts)}function Si(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,iy(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(Fu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&ja();break;case 3:vs(),He($t),He(kt),Xu();break;case 5:Qu(u);break;case 4:vs();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:$u(u.type._context);break;case 22:case 23:Pc()}o=o.return}if(_t=t,ot=t=zr(t.current,null),It=rn=r,ft=0,Fo=null,wc=cl=wi=0,Wt=Uo=null,_i!==null){for(r=0;r<_i.length;r++)if(o=_i[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}_i=null}return t}function Wd(t,r){do{var o=ot;try{if(bu(),Za.current=rl,el){for(var u=Ge.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}el=!1}if(Ei=0,yt=ht=Ge=null,Do=!1,No=0,Ec.current=null,o===null||o.return===null){ft=1,Fo=r,ot=null;break}e:{var p=t,_=o.return,S=o,A=r;if(r=It,S.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=A,G=S,X=G.tag;if(!(G.mode&1)&&(X===0||X===11||X===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var re=yd(_);if(re!==null){re.flags&=-257,_d(re,_,S,p,r),re.mode&1&&gd(p,z,r),r=re,A=z;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(A),r.updateQueue=le}else ae.add(A);break e}else{if(!(r&1)){gd(p,z,r),kc();break e}A=Error(n(426))}}else if(Ke&&S.mode&1){var nt=yd(_);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),_d(nt,_,S,p,r),Bu(Es(A,S));break e}}p=A=Es(A,S),ft!==4&&(ft=2),Uo===null?Uo=[p]:Uo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=pd(p,A,r);jf(p,M);break e;case 1:S=A;var D=p.type,U=p.stateNode;if(!(p.flags&128)&&(typeof D.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Or===null||!Or.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var Y=md(p,S,r);jf(p,Y);break e}}p=p.return}while(p!==null)}Gd(o)}catch(ue){r=ue,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function Kd(){var t=ul.current;return ul.current=rl,t===null?rl:t}function kc(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(wi&268435455)&&!(cl&268435455)||Ur(_t,It)}function gl(t,r){var o=Ne;Ne|=2;var u=Kd();(_t!==t||It!==r)&&(hr=null,Si(t,r));do try{ky();break}catch(h){Wd(t,h)}while(!0);if(bu(),Ne=o,ul.current=u,ot!==null)throw Error(n(261));return _t=null,It=0,ft}function ky(){for(;ot!==null;)Qd(ot)}function xy(){for(;ot!==null&&!da();)Qd(ot)}function Qd(t){var r=Jd(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?Gd(t):ot=r,Ec.current=null}function Gd(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Sy(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=Ty(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Ii(t,r,o){var u=Ce,h=dn.transition;try{dn.transition=null,Ce=1,Dy(t,r,o,u)}finally{dn.transition=h,Ce=u}return null}function Dy(t,r,o,u){do Is();while(Mr!==null);if(Ne&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(ze(t,p),t===_t&&(ot=_t=null,It=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||fl||(fl=!0,Zd(on,function(){return Is(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=dn.transition,dn.transition=null;var _=Ce;Ce=1;var S=Ne;Ne|=4,Ec.current=null,Cy(t,o),zd(o,t),Yg(ku),Cr=!!Pu,ku=Pu=null,t.current=o,Ry(o),fu(),Ne=S,Ce=_,dn.transition=p}else t.current=o;if(fl&&(fl=!1,Mr=t,dl=h),p=t.pendingLanes,p===0&&(Or=null),ga(o.stateNode),Kt(t,je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(hl)throw hl=!1,t=Sc,Sc=null,t;return dl&1&&t.tag!==0&&Is(),p=t.pendingLanes,p&1?t===Ic?zo++:(zo=0,Ic=t):zo=0,Dr(),null}function Is(){if(Mr!==null){var t=Sr(dl),r=dn.transition,o=Ce;try{if(dn.transition=null,Ce=16>t?16:t,Mr===null)var u=!1;else{if(t=Mr,Mr=null,dl=0,Ne&6)throw Error(n(331));var h=Ne;for(Ne|=4,oe=t.current;oe!==null;){var p=oe,_=p.child;if(oe.flags&16){var S=p.deletions;if(S!==null){for(var A=0;A<S.length;A++){var z=S[A];for(oe=z;oe!==null;){var G=oe;switch(G.tag){case 0:case 11:case 15:Mo(8,G,p)}var X=G.child;if(X!==null)X.return=G,oe=X;else for(;oe!==null;){G=oe;var K=G.sibling,re=G.return;if(Ld(G),G===z){oe=null;break}if(K!==null){K.return=re,oe=K;break}oe=re}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var nt=le.sibling;le.sibling=null,le=nt}while(le!==null)}}oe=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,oe=_;else e:for(;oe!==null;){if(p=oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Mo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,oe=M;break e}oe=p.return}}var D=t.current;for(oe=D;oe!==null;){_=oe;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,oe=U;else e:for(_=D;oe!==null;){if(S=oe,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:ll(9,S)}}catch(ue){Je(S,S.return,ue)}if(S===_){oe=null;break e}var Y=S.sibling;if(Y!==null){Y.return=S.return,oe=Y;break e}oe=S.return}}if(Ne=h,Dr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(ai,t)}catch{}u=!0}return u}finally{Ce=o,dn.transition=r}}return!1}function Xd(t,r,o){r=Es(o,r),r=pd(t,r,1),t=Vr(t,r,1),r=zt(),t!==null&&(wr(t,1,r),Kt(t,r))}function Je(t,r,o){if(t.tag===3)Xd(t,t,o);else for(;r!==null;){if(r.tag===3){Xd(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){t=Es(o,t),t=md(r,t,1),r=Vr(r,t,1),t=zt(),r!==null&&(wr(r,1,t),Kt(r,t));break}}r=r.return}}function Ny(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(It&o)===o&&(ft===4||ft===3&&(It&130023424)===It&&500>je()-Tc?Si(t,0):wc|=o),Kt(t,r)}function Yd(t,r){r===0&&(t.mode&1?(r=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):r=1);var o=zt();t=lr(t,r),t!==null&&(wr(t,r,o),Kt(t,o))}function Vy(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Yd(t,o)}function Ly(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Yd(t,o)}var Jd;Jd=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||$t.current)qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return qt=!1,wy(t,r,o);qt=!!(t.flags&131072)}else qt=!1,Ke&&r.flags&1048576&&Df(r,qa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ol(t,r),t=r.pendingProps;var h=fs(r,kt.current);_s(r,o),h=Zu(null,r,u,t,h,o);var p=ec();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,ba(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Wu(r),h.updater=il,r.stateNode=h,h._reactInternals=r,oc(r,u,t,o),r=cc(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&Mu(r),Ut(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ol(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=My(u),t=Rn(u,t),h){case 0:r=uc(null,r,u,t,o);break e;case 1:r=Id(null,r,u,t,o);break e;case 11:r=vd(null,r,u,t,o);break e;case 14:r=Ed(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),uc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Id(t,r,u,h,o);case 3:e:{if(Cd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Bf(t,r),Ya(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Es(Error(n(423)),r),r=Rd(t,r,u,o,h);break e}else if(u!==h){h=Es(Error(n(424)),r),r=Rd(t,r,u,o,h);break e}else for(nn=Pr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,Cn=null,o=Uf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ms(),u===h){r=cr(t,r,o);break e}Ut(t,r,u,o)}r=r.child}return r;case 5:return $f(r),t===null&&zu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,xu(u,h)?_=null:p!==null&&xu(u,p)&&(r.flags|=32),Sd(t,r),Ut(t,r,_,o),r.child;case 6:return t===null&&zu(r),null;case 13:return Ad(t,r,o);case 4:return Ku(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=gs(r,null,u,o):Ut(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),vd(t,r,u,h,o);case 7:return Ut(t,r,r.pendingProps,o),r.child;case 8:return Ut(t,r,r.pendingProps.children,o),r.child;case 12:return Ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,be(Qa,u._currentValue),u._currentValue=_,p!==null)if(In(p.value,_)){if(p.children===h.children&&!$t.current){r=cr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var A=S.firstContext;A!==null;){if(A.context===u){if(p.tag===1){A=ur(-1,o&-o),A.tag=2;var z=p.updateQueue;if(z!==null){z=z.shared;var G=z.pending;G===null?A.next=A:(A.next=G.next,G.next=A),z.pending=A}}p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),Hu(p.return,o,r),S.lanes|=o;break}A=A.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),Hu(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Ut(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,_s(r,o),h=hn(h),u=u(h),r.flags|=1,Ut(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),Ed(t,r,u,h,o);case 15:return wd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),ol(t,r),r.tag=1,Ht(u)?(t=!0,ba(r)):t=!1,_s(r,o),fd(r,u,h),oc(r,u,h,o),cc(null,r,u,!0,t,o);case 19:return kd(t,r,o);case 22:return Td(t,r,o)}throw Error(n(156,r.tag))};function Zd(t,r){return qi(t,r)}function Oy(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,r,o,u){return new Oy(t,r,o,u)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function My(t){if(typeof t=="function")return xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===At)return 14}return 2}function zr(t,r){var o=t.alternate;return o===null?(o=pn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function yl(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")xc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case x:return Ci(o.children,h,p,r);case T:_=8,h|=8;break;case I:return t=pn(12,o,r,h|2),t.elementType=I,t.lanes=p,t;case C:return t=pn(13,o,r,h),t.elementType=C,t.lanes=p,t;case et:return t=pn(19,o,r,h),t.elementType=et,t.lanes=p,t;case Ue:return _l(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:_=10;break e;case N:_=9;break e;case L:_=11;break e;case At:_=14;break e;case Pt:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=pn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ci(t,r,o,u){return t=pn(7,t,u,r),t.lanes=o,t}function _l(t,r,o,u){return t=pn(22,t,u,r),t.elementType=Ue,t.lanes=o,t.stateNode={isHidden:!1},t}function Dc(t,r,o){return t=pn(6,t,null,r),t.lanes=o,t}function Nc(t,r,o){return r=pn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Fy(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Er(0),this.expirationTimes=Er(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Er(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Vc(t,r,o,u,h,p,_,S,A){return t=new Fy(t,r,o,S,A),r===1?(r=1,p===!0&&(r|=8)):r=0,p=pn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wu(p),t}function Uy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function ep(t){if(!t)return xr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return Pf(t,o,r)}return r}function tp(t,r,o,u,h,p,_,S,A){return t=Vc(o,u,!0,t,h,p,_,S,A),t.context=ep(null),o=t.current,u=zt(),h=Fr(o),p=ur(u,h),p.callback=r??null,Vr(o,p,h),t.current.lanes=h,wr(t,h,u),Kt(t,u),t}function vl(t,r,o,u){var h=r.current,p=zt(),_=Fr(h);return o=ep(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Vr(h,r,_),t!==null&&(kn(t,h,_,p),Xa(t,h,_)),_}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function np(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Lc(t,r){np(t,r),(t=t.alternate)&&np(t,r)}var rp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oc(t){this._internalRoot=t}wl.prototype.render=Oc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));vl(t,r,null,null)},wl.prototype.unmount=Oc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ti(function(){vl(null,t,null,null)}),r[ir]=null}};function wl(t){this._internalRoot=t}wl.prototype.unstable_scheduleHydration=function(t){if(t){var r=wa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Vn.length&&r!==0&&r<Vn[o].priority;o++);Vn.splice(o,0,t),o===0&&Ia(t)}};function Mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ip(){}function zy(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var z=El(_);p.call(z)}}var _=tp(r,u,t,0,null,!1,!1,"",ip);return t._reactRootContainer=_,t[ir]=_.current,So(t.nodeType===8?t.parentNode:t),Ti(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var z=El(A);S.call(z)}}var A=Vc(t,0,!1,null,null,!1,!1,"",ip);return t._reactRootContainer=A,t[ir]=A.current,So(t.nodeType===8?t.parentNode:t),Ti(function(){vl(r,A,o,u)}),A}function Sl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var S=h;h=function(){var A=El(_);S.call(A)}}vl(r,_,t,h)}else _=zy(o,r,t,h,u);return El(_)}va=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=vr(r.pendingLanes);o!==0&&(Tr(r,o|1),Kt(r,je()),!(Ne&6)&&(Ss=je()+500,Dr()))}break;case 13:Ti(function(){var u=lr(t,1);if(u!==null){var h=zt();kn(u,t,1,h)}}),Lc(t,1)}},Qi=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=zt();kn(r,t,134217728,o)}Lc(t,134217728)}},Ea=function(t){if(t.tag===13){var r=Fr(t),o=lr(t,r);if(o!==null){var u=zt();kn(o,t,r,u)}Lc(t,r)}},wa=function(){return Ce},Ta=function(t,r){var o=Ce;try{return Ce=t,r()}finally{Ce=o}},zi=function(t,r,o){switch(r){case"input":if(Ks(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ba(u);if(!h)throw Error(n(90));Vi(u),Ks(u,h)}}}break;case"textarea":Fi(t,o);break;case"select":r=o.value,r!=null&&Xn(t,!!o.multiple,r,!1)}},ni=Ac,ro=Ti;var By={usingClientEntryPoint:!1,Events:[Ro,cs,Ba,Dn,no,Ac]},Bo={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jy={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oo(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{ai=Il.inject(jy),Yt=Il}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=By,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mc(r))throw Error(n(200));return Uy(t,r,null,o)},Qt.createRoot=function(t,r){if(!Mc(t))throw Error(n(299));var o=!1,u="",h=rp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Vc(t,1,!1,null,null,o,!1,u,h),t[ir]=r.current,So(t.nodeType===8?t.parentNode:t),new Oc(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=oo(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Ti(t)},Qt.hydrate=function(t,r,o){if(!Tl(r))throw Error(n(200));return Sl(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!Mc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=rp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=tp(r,null,t,1,o??null,h,!1,p,_),t[ir]=r.current,So(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new wl(r)},Qt.render=function(t,r,o){if(!Tl(r))throw Error(n(200));return Sl(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!Tl(t))throw Error(n(40));return t._reactRootContainer?(Ti(function(){Sl(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Qt.unstable_batchedUpdates=Ac,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Tl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Sl(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var fp;function Gy(){if(fp)return zc.exports;fp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zc.exports=Qy(),zc.exports}var dp;function Xy(){if(dp)return Cl;dp=1;var i=Gy();return Cl.createRoot=i.createRoot,Cl.hydrateRoot=i.hydrateRoot,Cl}var Yy=Xy(),bo={},pp;function Jy(){if(pp)return bo;pp=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.parse=f,bo.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const k=function(){};return k.prototype=Object.create(null),k})();function f(k,F){const j=new c,H=k.length;if(H<2)return j;const B=(F==null?void 0:F.decode)||w;let Q=0;do{const ne=k.indexOf("=",Q);if(ne===-1)break;const J=k.indexOf(";",Q),he=J===-1?H:J;if(ne>he){Q=k.lastIndexOf(";",ne-1)+1;continue}const Ie=m(k,Q,ne),Ee=y(k,ne,Ie),x=k.slice(Ie,Ee);if(j[x]===void 0){let T=m(k,ne+1,he),I=y(k,he,T);const P=B(k.slice(T,I));j[x]=P}Q=he+1}while(Q<H);return j}function m(k,F,j){do{const H=k.charCodeAt(F);if(H!==32&&H!==9)return F}while(++F<j);return j}function y(k,F,j){for(;F>j;){const H=k.charCodeAt(--F);if(H!==32&&H!==9)return F+1}return j}function v(k,F,j){const H=(j==null?void 0:j.encode)||encodeURIComponent;if(!i.test(k))throw new TypeError(`argument name is invalid: ${k}`);const B=H(F);if(!e.test(B))throw new TypeError(`argument val is invalid: ${F}`);let Q=k+"="+B;if(!j)return Q;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);Q+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);Q+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);Q+="; Path="+j.path}if(j.expires){if(!R(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);Q+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(Q+="; HttpOnly"),j.secure&&(Q+="; Secure"),j.partitioned&&(Q+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return Q}function w(k){if(k.indexOf("%")===-1)return k;try{return decodeURIComponent(k)}catch{return k}}function R(k){return a.call(k)==="[object Date]"}return bo}Jy();/**
 * react-router v7.1.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mp="popstate";function Zy(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return Zc("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Yo(a)}return t_(e,n,null,i)}function Xe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Hn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e_(){return Math.random().toString(36).substring(2,10)}function gp(i,e){return{usr:i.state,key:i.key,idx:e}}function Zc(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?zs(e):e,state:n,key:e&&e.key||s||e_()}}function Yo({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function zs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function t_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",y=null,v=w();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function w(){return(f.state||{idx:null}).idx}function R(){m="POP";let B=w(),Q=B==null?null:B-v;v=B,y&&y({action:m,location:H.location,delta:Q})}function k(B,Q){m="PUSH";let ne=Zc(H.location,B,Q);v=w()+1;let J=gp(ne,v),he=H.createHref(ne);try{f.pushState(J,"",he)}catch(Ie){if(Ie instanceof DOMException&&Ie.name==="DataCloneError")throw Ie;a.location.assign(he)}c&&y&&y({action:m,location:H.location,delta:1})}function F(B,Q){m="REPLACE";let ne=Zc(H.location,B,Q);v=w();let J=gp(ne,v),he=H.createHref(ne);f.replaceState(J,"",he),c&&y&&y({action:m,location:H.location,delta:0})}function j(B){let Q=a.location.origin!=="null"?a.location.origin:a.location.href,ne=typeof B=="string"?B:Yo(B);return ne=ne.replace(/ $/,"%20"),Xe(Q,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Q)}let H={get action(){return m},get location(){return i(a,f)},listen(B){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(mp,R),y=B,()=>{a.removeEventListener(mp,R),y=null}},createHref(B){return e(a,B)},createURL:j,encodeLocation(B){let Q=j(B);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:k,replace:F,go(B){return f.go(B)}};return H}function gm(i,e,n="/"){return n_(i,e,n,!1)}function n_(i,e,n,s){let a=typeof e=="string"?zs(e):e,c=Wr(a.pathname||"/",n);if(c==null)return null;let f=ym(i);r_(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let v=p_(c);m=f_(f[y],v,s)}return m}function ym(i,e=[],n=[],s=""){let a=(c,f,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};y.relativePath.startsWith("/")&&(Xe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let v=fr([s,y.relativePath]),w=n.concat(y);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),ym(c.children,e,w,v)),!(c.path==null&&!c.index)&&e.push({path:v,score:c_(v,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let y of _m(c.path))a(c,f,y)}),e}function _m(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=_m(s.join("/")),m=[];return m.push(...f.map(y=>y===""?c:[c,y].join("/"))),a&&m.push(...f),m.map(y=>i.startsWith("/")&&y===""?"/":y)}function r_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:h_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var i_=/^:[\w-]+$/,s_=3,o_=2,a_=1,l_=10,u_=-2,yp=i=>i==="*";function c_(i,e){let n=i.split("/"),s=n.length;return n.some(yp)&&(s+=u_),e&&(s+=o_),n.filter(a=>!yp(a)).reduce((a,c)=>a+(i_.test(c)?s_:c===""?a_:l_),s)}function h_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function f_(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],v=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",R=Bl({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},w),k=y.route;if(!R&&v&&n&&!s[s.length-1].route.index&&(R=Bl({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),f.push({params:a,pathname:fr([c,R.pathname]),pathnameBase:__(fr([c,R.pathnameBase])),route:k}),R.pathnameBase!=="/"&&(c=fr([c,R.pathnameBase]))}return f}function Bl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=d_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:R},k)=>{if(w==="*"){let j=m[k]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const F=m[k];return R&&!F?v[w]=void 0:v[w]=(F||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:f,pattern:i}}function d_(i,e=!1,n=!0){Hn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function p_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Wr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function m_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?zs(i):i;return{pathname:n?n.startsWith("/")?n:g_(n,e):e,search:v_(s),hash:E_(a)}}function g_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function bc(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vm(i){let e=y_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Em(i,e,n,s=!1){let a;typeof i=="string"?a=zs(i):(a={...i},Xe(!a.pathname||!a.pathname.includes("?"),bc("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),bc("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),bc("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let k=f.split("/");for(;k[0]==="..";)k.shift(),R-=1;a.pathname=k.join("/")}m=R>=0?e[R]:"/"}let y=m_(a,m),v=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(v||w)&&(y.pathname+="/"),y}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),__=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),v_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,E_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function w_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var wm=["POST","PUT","PATCH","DELETE"];new Set(wm);var T_=["GET",...wm];new Set(T_);var Bs=$.createContext(null);Bs.displayName="DataRouter";var Yl=$.createContext(null);Yl.displayName="DataRouterState";var Tm=$.createContext({isTransitioning:!1});Tm.displayName="ViewTransition";var S_=$.createContext(new Map);S_.displayName="Fetchers";var I_=$.createContext(null);I_.displayName="Await";var Kn=$.createContext(null);Kn.displayName="Navigation";var ra=$.createContext(null);ra.displayName="Location";var mr=$.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Ch=$.createContext(null);Ch.displayName="RouteError";function C_(i,{relative:e}={}){Xe(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(Kn),{hash:a,pathname:c,search:f}=sa(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:fr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function ia(){return $.useContext(ra)!=null}function Di(){return Xe(ia(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(ra).location}var Sm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Im(i){$.useContext(Kn).static||$.useLayoutEffect(i)}function R_(){let{isDataRoute:i}=$.useContext(mr);return i?z_():A_()}function A_(){Xe(ia(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext(Bs),{basename:e,navigator:n}=$.useContext(Kn),{matches:s}=$.useContext(mr),{pathname:a}=Di(),c=JSON.stringify(vm(s)),f=$.useRef(!1);return Im(()=>{f.current=!0}),$.useCallback((y,v={})=>{if(Hn(f.current,Sm),!f.current)return;if(typeof y=="number"){n.go(y);return}let w=Em(y,JSON.parse(c),a,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:fr([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,c,a,i])}$.createContext(null);function sa(i,{relative:e}={}){let{matches:n}=$.useContext(mr),{pathname:s}=Di(),a=JSON.stringify(vm(n));return $.useMemo(()=>Em(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function P_(i,e){return Cm(i,e)}function Cm(i,e,n,s){var ne;Xe(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:c}=$.useContext(Kn),{matches:f}=$.useContext(mr),m=f[f.length-1],y=m?m.params:{},v=m?m.pathname:"/",w=m?m.pathnameBase:"/",R=m&&m.route;{let J=R&&R.path||"";Rm(v,!R||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let k=Di(),F;if(e){let J=typeof e=="string"?zs(e):e;Xe(w==="/"||((ne=J.pathname)==null?void 0:ne.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),F=J}else F=k;let j=F.pathname||"/",H=j;if(w!=="/"){let J=w.replace(/^\//,"").split("/");H="/"+j.replace(/^\//,"").split("/").slice(J.length).join("/")}let B=!c&&n&&n.matches&&n.matches.length>0?n.matches:gm(i,{pathname:H});Hn(R||B!=null,`No routes matched location "${F.pathname}${F.search}${F.hash}" `),Hn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${F.pathname}${F.search}${F.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=V_(B&&B.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:fr([w,a.encodeLocation?a.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:fr([w,a.encodeLocation?a.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&Q?$.createElement(ra.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...F},navigationType:"POP"}},Q):Q}function k_(){let i=U_(),e=w_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:c},"ErrorBoundary")," or"," ",$.createElement("code",{style:c},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:a},n):null,f)}var x_=$.createElement(k_,null),D_=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(mr.Provider,{value:this.props.routeContext},$.createElement(Ch.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N_({routeContext:i,match:e,children:n}){let s=$.useContext(Bs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(mr.Provider,{value:i},n)}function V_(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let y=a.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Xe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<a.length;y++){let v=a[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=y),v.route.id){let{loaderData:w,errors:R}=n,k=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||k){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((y,v,w)=>{let R,k=!1,F=null,j=null;n&&(R=c&&v.route.id?c[v.route.id]:void 0,F=v.route.errorElement||x_,f&&(m<0&&w===0?(Rm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):m===w&&(k=!0,j=v.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,w+1)),B=()=>{let Q;return R?Q=F:k?Q=j:v.route.Component?Q=$.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=y,$.createElement(N_,{match:v,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:Q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?$.createElement(D_,{location:n.location,revalidation:n.revalidation,component:F,error:R,children:B(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):B()},null)}function Rh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L_(i){let e=$.useContext(Bs);return Xe(e,Rh(i)),e}function O_(i){let e=$.useContext(Yl);return Xe(e,Rh(i)),e}function M_(i){let e=$.useContext(mr);return Xe(e,Rh(i)),e}function Ah(i){let e=M_(i),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function F_(){return Ah("useRouteId")}function U_(){var s;let i=$.useContext(Ch),e=O_("useRouteError"),n=Ah("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function z_(){let{router:i}=L_("useNavigate"),e=Ah("useNavigate"),n=$.useRef(!1);return Im(()=>{n.current=!0}),$.useCallback(async(a,c={})=>{Hn(n.current,Sm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var _p={};function Rm(i,e,n){!e&&!_p[i]&&(_p[i]=!0,Hn(!1,n))}$.memo(B_);function B_({routes:i,future:e,state:n}){return Cm(i,void 0,n,e)}function eh(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j_({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Xe(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=zs(n));let{pathname:y="/",search:v="",hash:w="",state:R=null,key:k="default"}=n,F=$.useMemo(()=>{let j=Wr(y,f);return j==null?null:{location:{pathname:j,search:v,hash:w,state:R,key:k},navigationType:s}},[f,y,v,w,R,k,s]);return Hn(F!=null,`<Router basename="${f}"> is not able to match the URL "${y}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:$.createElement(Kn.Provider,{value:m},$.createElement(ra.Provider,{children:e,value:F}))}function b_({children:i,location:e}){return P_(th(i),e)}function th(i,e=[]){let n=[];return $.Children.forEach(i,(s,a)=>{if(!$.isValidElement(s))return;let c=[...e,a];if(s.type===$.Fragment){n.push.apply(n,th(s.props.children,c));return}Xe(s.type===eh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=th(s.props.children,c)),n.push(f)}),n}var Vl="get",Ll="application/x-www-form-urlencoded";function Jl(i){return i!=null&&typeof i.tagName=="string"}function $_(i){return Jl(i)&&i.tagName.toLowerCase()==="button"}function H_(i){return Jl(i)&&i.tagName.toLowerCase()==="form"}function q_(i){return Jl(i)&&i.tagName.toLowerCase()==="input"}function W_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function K_(i,e){return i.button===0&&(!e||e==="_self")&&!W_(i)}var Rl=null;function Q_(){if(Rl===null)try{new FormData(document.createElement("form"),0),Rl=!1}catch{Rl=!0}return Rl}var G_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $c(i){return i!=null&&!G_.has(i)?(Hn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ll}"`),null):i}function X_(i,e){let n,s,a,c,f;if(H_(i)){let m=i.getAttribute("action");s=m?Wr(m,e):null,n=i.getAttribute("method")||Vl,a=$c(i.getAttribute("enctype"))||Ll,c=new FormData(i)}else if($_(i)||q_(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||m.getAttribute("action");if(s=y?Wr(y,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Vl,a=$c(i.getAttribute("formenctype"))||$c(m.getAttribute("enctype"))||Ll,c=new FormData(m,i),!Q_()){let{name:v,type:w,value:R}=i;if(w==="image"){let k=v?`${v}.`:"";c.append(`${k}x`,"0"),c.append(`${k}y`,"0")}else v&&c.append(v,R)}}else{if(Jl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vl,s=null,a=Ll,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function Ph(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Y_(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Z_(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await Y_(c,n);return f.links?f.links():[]}return[]}));return rv(s.flat(1).filter(J_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vp(i,e,n,s,a,c){let f=(y,v)=>n[v]?y.route.id!==n[v].route.id:!0,m=(y,v)=>{var w;return n[v].pathname!==y.pathname||((w=n[v].route.path)==null?void 0:w.endsWith("*"))&&n[v].params["*"]!==y.params["*"]};return c==="assets"?e.filter((y,v)=>f(y,v)||m(y,v)):c==="data"?e.filter((y,v)=>{var R;let w=s.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(f(y,v)||m(y,v))return!0;if(y.route.shouldRevalidate){let k=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function ev(i,e){return tv(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function tv(i){return[...new Set(i)]}function nv(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function rv(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(nv(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function iv(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sv(){let i=$.useContext(Bs);return Ph(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ov(){let i=$.useContext(Yl);return Ph(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var kh=$.createContext(void 0);kh.displayName="FrameworkContext";function Am(){let i=$.useContext(kh);return Ph(i,"You must render this element inside a <HydratedRouter> element"),i}function av(i,e){let n=$.useContext(kh),[s,a]=$.useState(!1),[c,f]=$.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:v,onMouseLeave:w,onTouchStart:R}=e,k=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let H=Q=>{Q.forEach(ne=>{f(ne.isIntersecting)})},B=new IntersectionObserver(H,{threshold:.5});return k.current&&B.observe(k.current),()=>{B.disconnect()}}},[i]),$.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let F=()=>{a(!0)},j=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,k,{}]:[c,k,{onFocus:$o(m,F),onBlur:$o(y,j),onMouseEnter:$o(v,F),onMouseLeave:$o(w,j),onTouchStart:$o(R,F)}]:[!1,k,{}]}function $o(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function lv({page:i,...e}){let{router:n}=sv(),s=$.useMemo(()=>gm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?$.createElement(cv,{page:i,matches:s,...e}):null}function uv(i){let{manifest:e,routeModules:n}=Am(),[s,a]=$.useState([]);return $.useEffect(()=>{let c=!1;return Z_(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function cv({page:i,matches:e,...n}){let s=Di(),{manifest:a,routeModules:c}=Am(),{loaderData:f,matches:m}=ov(),y=$.useMemo(()=>vp(i,e,m,a,s,"data"),[i,e,m,a,s]),v=$.useMemo(()=>vp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,j=!1;if(e.forEach(B=>{var ne;let Q=a.routes[B.route.id];!Q||!Q.hasLoader||(!y.some(J=>J.route.id===B.route.id)&&B.route.id in f&&((ne=c[B.route.id])!=null&&ne.shouldRevalidate)||Q.hasClientLoader?j=!0:F.add(B.route.id))}),F.size===0)return[];let H=iv(i);return j&&F.size>0&&H.searchParams.set("_routes",e.filter(B=>F.has(B.route.id)).map(B=>B.route.id).join(",")),[H.pathname+H.search]},[f,s,a,y,e,i,c]),R=$.useMemo(()=>ev(v,a),[v,a]),k=uv(v);return $.createElement($.Fragment,null,w.map(F=>$.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),R.map(F=>$.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:j})=>$.createElement("link",{key:F,...j})))}function hv(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Pm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Pm&&(window.__reactRouterVersion="7.1.4")}catch{}function fv({basename:i,children:e,window:n}){let s=$.useRef();s.current==null&&(s.current=Zy({window:n,v5Compat:!0}));let a=s.current,[c,f]=$.useState({action:a.action,location:a.location}),m=$.useCallback(y=>{$.startTransition(()=>f(y))},[f]);return $.useLayoutEffect(()=>a.listen(m),[a,m]),$.createElement(j_,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var km=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xh=$.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:y,to:v,preventScrollReset:w,viewTransition:R,...k},F){let{basename:j}=$.useContext(Kn),H=typeof v=="string"&&km.test(v),B,Q=!1;if(typeof v=="string"&&H&&(B=v,Pm))try{let I=new URL(window.location.href),P=v.startsWith("//")?new URL(I.protocol+v):new URL(v),N=Wr(P.pathname,j);P.origin===I.origin&&N!=null?v=N+P.search+P.hash:Q=!0}catch{Hn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=C_(v,{relative:a}),[J,he,Ie]=av(s,k),Ee=gv(v,{replace:f,state:m,target:y,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||Ee(I)}let T=$.createElement("a",{...k,...Ie,href:B||ne,onClick:Q||c?e:x,ref:hv(F,he),target:y,"data-discover":!H&&n==="render"?"true":void 0});return J&&!H?$.createElement($.Fragment,null,T,$.createElement(lv,{page:ne})):T});xh.displayName="Link";var dv=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:y,...v},w){let R=sa(f,{relative:v.relative}),k=Di(),F=$.useContext(Yl),{navigator:j,basename:H}=$.useContext(Kn),B=F!=null&&wv(R)&&m===!0,Q=j.encodeLocation?j.encodeLocation(R).pathname:R.pathname,ne=k.pathname,J=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),J=J?J.toLowerCase():null,Q=Q.toLowerCase()),J&&H&&(J=Wr(J,H)||J);const he=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ie=ne===Q||!a&&ne.startsWith(Q)&&ne.charAt(he)==="/",Ee=J!=null&&(J===Q||!a&&J.startsWith(Q)&&J.charAt(Q.length)==="/"),x={isActive:Ie,isPending:Ee,isTransitioning:B},T=Ie?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ie?"active":null,Ee?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(x):c;return $.createElement(xh,{...v,"aria-current":T,className:I,ref:w,style:P,to:f,viewTransition:m},typeof y=="function"?y(x):y)});dv.displayName="NavLink";var pv=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=Vl,action:m,onSubmit:y,relative:v,preventScrollReset:w,viewTransition:R,...k},F)=>{let j=vv(),H=Ev(m,{relative:v}),B=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&km.test(m),ne=J=>{if(y&&y(J),J.defaultPrevented)return;J.preventDefault();let he=J.nativeEvent.submitter,Ie=(he==null?void 0:he.getAttribute("formmethod"))||f;j(he||J.currentTarget,{fetcherKey:e,method:Ie,navigate:n,replace:a,state:c,relative:v,preventScrollReset:w,viewTransition:R})};return $.createElement("form",{ref:F,method:B,action:H,onSubmit:s?y:ne,...k,"data-discover":!Q&&i==="render"?"true":void 0})});pv.displayName="Form";function mv(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xm(i){let e=$.useContext(Bs);return Xe(e,mv(i)),e}function gv(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=R_(),y=Di(),v=sa(i,{relative:c});return $.useCallback(w=>{if(K_(w,e)){w.preventDefault();let R=n!==void 0?n:Yo(y)===Yo(v);m(i,{replace:R,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[y,m,v,n,s,e,i,a,c,f])}var yv=0,_v=()=>`__${String(++yv)}__`;function vv(){let{router:i}=xm("useSubmit"),{basename:e}=$.useContext(Kn),n=F_();return $.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:y,body:v}=X_(s,e);if(a.navigate===!1){let w=a.fetcherKey||_v();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:v,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:y,body:v,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function Ev(i,{relative:e}={}){let{basename:n}=$.useContext(Kn),s=$.useContext(mr);Xe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...sa(i||".",{relative:e})},f=Di();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),y=m.getAll("index");if(y.some(w=>w==="")){m.delete("index"),y.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:fr([n,c.pathname])),Yo(c)}function wv(i,e={}){let n=$.useContext(Tm);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xm("useViewTransitionState"),a=sa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bl(a.pathname,f)!=null||Bl(a.pathname,c)!=null}new TextEncoder;const Tv="_list_19okl_1",Sv={list:Tv},Iv="_card_19wl1_1",Cv={card:Iv,"product-card":"_product-card_19wl1_33"},Rv=({productData:i})=>qe.jsx(xh,{to:`products/${i.id}`,className:Cv.card,children:qe.jsxs("article",{children:[qe.jsx("img",{src:i.imageUrl,tag:i.name}),qe.jsx("h3",{children:i.name}),qe.jsx("h4",{children:i.price})]})}),Av=({products:i})=>qe.jsx("div",{className:Sv.list,children:i.map(e=>qe.jsx(Rv,{productData:e},e.id))});var Ep={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Pv=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Nm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let k=(m&15)<<2|v>>6,F=v&63;y||(F=64,f||(k=64)),s.push(n[w],n[R],n[k],n[F])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Dm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Pv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||R==null)throw new kv;const k=c<<2|m>>4;if(s.push(k),v!==64){const F=m<<4&240|v>>2;if(s.push(F),R!==64){const j=v<<6&192|R;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xv=function(i){const e=Dm(i);return Nm.encodeByteArray(e,!0)},jl=function(i){return xv(i).replace(/\./g,"")},Dv=function(i){try{return Nm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=()=>Nv().__FIREBASE_DEFAULTS__,Lv=()=>{if(typeof process>"u"||typeof Ep>"u")return;const i=Ep.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Ov=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Dv(i[1]);return e&&JSON.parse(e)},Dh=()=>{try{return Vv()||Lv()||Ov()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Mv=i=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Fv=i=>{const e=Mv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Vm=()=>{var i;return(i=Dh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jl(JSON.stringify(n)),jl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jv(){var i;const e=(i=Dh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bv(){return!jv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $v(){try{return typeof indexedDB=="object"}catch{return!1}}function Hv(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="FirebaseError";class js extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qv,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lm.prototype.create)}}class Lm{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?Wv(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new js(a,m,s)}}function Wv(i,e){return i.replace(Kv,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Kv=/\{\$([^}]+)}/g;function nh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(wp(c)&&wp(f)){if(!nh(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function wp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(i){return i&&i._delegate?i._delegate:i}class Jo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Uv;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yv(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ri){return this.instances.has(e)}getOptions(e=Ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Xv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ri){return this.component?this.component.multipleInstances?e:Ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xv(i){return i===Ri?void 0:i}function Yv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const Zv={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},eE=ke.INFO,tE={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},nE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=tE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Om{constructor(e){this.name=e,this._logLevel=eE,this._logHandler=nE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const rE=(i,e)=>e.some(n=>i instanceof n);let Tp,Sp;function iE(){return Tp||(Tp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sE(){return Sp||(Sp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mm=new WeakMap,rh=new WeakMap,Fm=new WeakMap,Hc=new WeakMap,Nh=new WeakMap;function oE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n($r(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Mm.set(n,i)}).catch(()=>{}),Nh.set(e,i),e}function aE(i){if(rh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});rh.set(i,e)}let ih={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return rh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Fm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function lE(i){ih=i(ih)}function uE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(qc(this),e,...n);return Fm.set(s,e.sort?e.sort():[e]),$r(s)}:sE().includes(i)?function(...e){return i.apply(qc(this),e),$r(Mm.get(this))}:function(...e){return $r(i.apply(qc(this),e))}}function cE(i){return typeof i=="function"?uE(i):(i instanceof IDBTransaction&&aE(i),rE(i,iE())?new Proxy(i,ih):i)}function $r(i){if(i instanceof IDBRequest)return oE(i);if(Hc.has(i))return Hc.get(i);const e=cE(i);return e!==i&&(Hc.set(i,e),Nh.set(e,i)),e}const qc=i=>Nh.get(i);function hE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",y=>{s($r(f.result),y.oldVersion,y.newVersion,$r(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const fE=["get","getKey","getAll","getAllKeys","count"],dE=["put","add","delete","clear"],Wc=new Map;function Ip(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Wc.get(e))return Wc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=dE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||fE.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return Wc.set(e,c),c}lE(i=>({...i,get:(e,n,s)=>Ip(e,n)||i.get(e,n,s),has:(e,n)=>!!Ip(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sh="@firebase/app",Cp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Om("@firebase/app"),gE="@firebase/app-compat",yE="@firebase/analytics-compat",_E="@firebase/analytics",vE="@firebase/app-check-compat",EE="@firebase/app-check",wE="@firebase/auth",TE="@firebase/auth-compat",SE="@firebase/database",IE="@firebase/data-connect",CE="@firebase/database-compat",RE="@firebase/functions",AE="@firebase/functions-compat",PE="@firebase/installations",kE="@firebase/installations-compat",xE="@firebase/messaging",DE="@firebase/messaging-compat",NE="@firebase/performance",VE="@firebase/performance-compat",LE="@firebase/remote-config",OE="@firebase/remote-config-compat",ME="@firebase/storage",FE="@firebase/storage-compat",UE="@firebase/firestore",zE="@firebase/vertexai",BE="@firebase/firestore-compat",jE="firebase",bE="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]",$E={[sh]:"fire-core",[gE]:"fire-core-compat",[_E]:"fire-analytics",[yE]:"fire-analytics-compat",[EE]:"fire-app-check",[vE]:"fire-app-check-compat",[wE]:"fire-auth",[TE]:"fire-auth-compat",[SE]:"fire-rtdb",[IE]:"fire-data-connect",[CE]:"fire-rtdb-compat",[RE]:"fire-fn",[AE]:"fire-fn-compat",[PE]:"fire-iid",[kE]:"fire-iid-compat",[xE]:"fire-fcm",[DE]:"fire-fcm-compat",[NE]:"fire-perf",[VE]:"fire-perf-compat",[LE]:"fire-rc",[OE]:"fire-rc-compat",[ME]:"fire-gcs",[FE]:"fire-gcs-compat",[UE]:"fire-fst",[BE]:"fire-fst-compat",[zE]:"fire-vertex","fire-js":"fire-js",[jE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,HE=new Map,ah=new Map;function Rp(i,e){try{i.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function $l(i){const e=i.name;if(ah.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;ah.set(e,i);for(const n of bl.values())Rp(n,i);for(const n of HE.values())Rp(n,i);return!0}function qE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Lm("app","Firebase",WE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=bE;function Um(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:oh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=Vm()),!n)throw Hr.create("no-options");const c=bl.get(a);if(c){if(nh(n,c.options)&&nh(s,c.config))return c;throw Hr.create("duplicate-app",{appName:a})}const f=new Jv(a);for(const y of ah.values())f.addComponent(y);const m=new KE(n,s,f);return bl.set(a,m),m}function GE(i=oh){const e=bl.get(i);if(!e&&i===oh&&Vm())return Um();if(!e)throw Hr.create("no-app",{appName:i});return e}function ks(i,e,n){var s;let a=(s=$E[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}$l(new Jo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebase-heartbeat-database",YE=1,Zo="firebase-heartbeat-store";let Kc=null;function zm(){return Kc||(Kc=hE(XE,YE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),Kc}async function JE(i){try{const n=(await zm()).transaction(Zo),s=await n.objectStore(Zo).get(Bm(i));return await n.done,s}catch(e){if(e instanceof js)dr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function Ap(i,e){try{const s=(await zm()).transaction(Zo,"readwrite");await s.objectStore(Zo).put(e,Bm(i)),await s.done}catch(n){if(n instanceof js)dr.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function Bm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=1024,ew=30*24*60*60*1e3;class tw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Pp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=ew}),this._storage.overwrite(this._heartbeatsCache))}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pp(),{heartbeatsToSend:s,unsentEntries:a}=nw(this._heartbeatsCache.heartbeats),c=jl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return dr.warn(n),""}}}function Pp(){return new Date().toISOString().substring(0,10)}function nw(i,e=ZE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),kp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),kp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $v()?Hv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ap(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function kp(i){return jl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i){$l(new Jo("platform-logger",e=>new pE(e),"PRIVATE")),$l(new Jo("heartbeat",e=>new tw(e),"PRIVATE")),ks(sh,Cp,i),ks(sh,Cp,"esm2017"),ks("fire-js","")}iw("");var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,jm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(P,N,L){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return T.prototype[N].apply(P,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)P[N]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(N=0;16>N;++N)P[N]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],N=x.g[2];var L=x.g[3],C=T+(L^I&(N^L))+P[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+P[1]+3905402710&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+P[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+P[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(L^I&(N^L))+P[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+P[5]+1200080426&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+P[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+P[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(L^I&(N^L))+P[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+P[9]+2336552879&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+P[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+P[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(L^I&(N^L))+P[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(N^T&(I^N))+P[13]+4254626195&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(I^L&(T^I))+P[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=I+(T^N&(L^T))+P[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=T+(N^L&(I^N))+P[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+P[6]+3225465664&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+P[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+P[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(I^N))+P[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+P[10]+38016083&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+P[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+P[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(I^N))+P[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+P[14]+3275163606&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+P[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+P[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(I^N))+P[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^N&(T^I))+P[2]+4243563512&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^I&(L^T))+P[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(N^L))+P[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=T+(I^N^L)+P[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+P[8]+2272392833&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+P[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+P[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^L)+P[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+P[4]+1272893353&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+P[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+P[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^L)+P[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+P[0]+3936430074&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+P[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+P[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(I^N^L)+P[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^N)+P[12]+3873151461&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^I)+P[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=I+(N^L^T)+P[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=T+(N^(I|~L))+P[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+P[7]+1126891415&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+P[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+P[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~L))+P[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+P[3]+2399980690&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+P[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+P[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~L))+P[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+P[15]+4264355552&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+P[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+P[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=T+(N^(I|~L))+P[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~N))+P[11]+3174756917&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~I))+P[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=I+(L^(N|~T))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,P=this.B,N=this.h,L=0;L<T;){if(N==0)for(;L<=I;)a(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<T;)if(P[N++]=x.charCodeAt(L++),N==this.blockSize){a(this,P),N=0;break}}else for(;L<T;)if(P[N++]=x[L++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)x[I++]=this.g[T]>>>P&255;return x};function c(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function f(x,T){this.h=T;for(var I=[],P=!0,N=x.length-1;0<=N;N--){var L=x[N]|0;P&&L==T||(I[N]=L,P=!1)}this.g=I}var m={};function y(x){return-128<=x&&128>x?c(x,function(T){return new f([T|0],0>T?-1:0)}):new f([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return B(v(-x));for(var T=[],I=1,P=0;x>=I;P++)T[P]=x/I|0,I*=4294967296;return new f(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return B(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),P=R,N=0;N<x.length;N+=8){var L=Math.min(8,x.length-N),C=parseInt(x.substring(N,N+L),T);8>L?(L=v(Math.pow(T,L)),P=P.j(L).add(v(C))):(P=P.j(I),P=P.add(v(C)))}return P}var R=y(0),k=y(1),F=y(16777216);i=f.prototype,i.m=function(){if(H(this))return-B(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);x+=(0<=P?P:4294967296+P)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(H(this))return"-"+B(this).toString(x);for(var T=v(Math.pow(x,6)),I=this,P="";;){var N=he(I,T).g;I=Q(I,N.j(T));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=N,j(I))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function H(x){return x.h==-1}i.l=function(x){return x=Q(this,x),H(x)?-1:j(x)?0:1};function B(x){for(var T=x.g.length,I=[],P=0;P<T;P++)I[P]=~x.g[P];return new f(I,~x.h).add(k)}i.abs=function(){return H(this)?B(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0,N=0;N<=T;N++){var L=P+(this.i(N)&65535)+(x.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);P=C>>>16,L&=65535,C&=65535,I[N]=C<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Q(x,T){return x.add(B(T))}i.j=function(x){if(j(this)||j(x))return R;if(H(this))return H(x)?B(this).j(B(x)):B(B(this).j(x));if(H(x))return B(this.j(B(x)));if(0>this.l(F)&&0>x.l(F))return v(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<x.g.length;N++){var L=this.i(P)>>>16,C=this.i(P)&65535,et=x.i(N)>>>16,At=x.i(N)&65535;I[2*P+2*N]+=C*At,ne(I,2*P+2*N),I[2*P+2*N+1]+=L*At,ne(I,2*P+2*N+1),I[2*P+2*N+1]+=C*et,ne(I,2*P+2*N+1),I[2*P+2*N+2]+=L*et,ne(I,2*P+2*N+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new f(I,0)};function ne(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function J(x,T){this.g=x,this.h=T}function he(x,T){if(j(T))throw Error("division by zero");if(j(x))return new J(R,R);if(H(x))return T=he(B(x),T),new J(B(T.g),B(T.h));if(H(T))return T=he(x,B(T)),new J(B(T.g),T.h);if(30<x.g.length){if(H(x)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var I=k,P=T;0>=P.l(x);)I=Ie(I),P=Ie(P);var N=Ee(I,1),L=Ee(P,1);for(P=Ee(P,2),I=Ee(I,2);!j(P);){var C=L.add(P);0>=C.l(x)&&(N=N.add(I),L=C),P=Ee(P,1),I=Ee(I,1)}return T=Q(x,N.j(T)),new J(N,T)}for(N=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=v(I),C=L.j(T);H(C)||0<C.l(x);)I-=P,L=v(I),C=L.j(T);j(L)&&(L=k),N=N.add(L),x=Q(x,C)}return new J(N,x)}i.A=function(x){return he(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&x.i(P);return new f(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|x.i(P);return new f(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^x.i(P);return new f(I,this.h^x.h)};function Ie(x){for(var T=x.g.length+1,I=[],P=0;P<T;P++)I[P]=x.i(P)<<1|x.i(P-1)>>>31;return new f(I,x.h)}function Ee(x,T){var I=T>>5;T%=32;for(var P=x.g.length-I,N=[],L=0;L<P;L++)N[L]=0<T?x.i(L+I)>>>T|x.i(L+I+1)<<32-T:x.i(L+I);return new f(N,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,jm=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=w,qr=f}).apply(typeof xp<"u"?xp:typeof self<"u"?self:typeof window<"u"?window:{});var Al=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bm,Ho,$m,Ol,lh,Hm,qm,Wm;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Al=="object"&&Al];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in g))break e;g=g[O]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,O={next:function(){if(!E&&g<l.length){var b=g++;return{value:d(b,l[b]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,g){return l.call.apply(l.bind,arguments)}function R(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function k(l,d,g){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,k.apply(null,arguments)}function F(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function j(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,O,b){for(var Z=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)Z[Fe-2]=arguments[Fe];return d.prototype[O].apply(E,Z)}}function H(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function B(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const O=l.length||0,b=E.length||0;l.length=O+b;for(let Z=0;Z<b;Z++)l[O+Z]=E[Z]}else l.push(E)}}class Q{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ne(l){return/^[\s\xa0]*$/.test(l)}function J(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function he(l){return he[" "](l),l}he[" "]=function(){};var Ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Ee(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function x(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function T(l){const d={};for(const g in l)d[g]=l[g];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let g,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(g in E)l[g]=E[g];for(let b=0;b<I.length;b++)g=I[b],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function N(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function L(l){m.setTimeout(()=>{throw l},0)}function C(){var l=fe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class et{constructor(){this.h=this.g=null}add(d,g){const E=At.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var At=new Q(()=>new Pt,l=>l.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ee=!1,fe=new et,ie=()=>{const l=m.Promise.resolve(void 0);Ue=()=>{l.then(V)}};var V=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(g){L(g)}var d=At;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ee=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function Te(l,d){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ie){e:{try{he(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Te.aa.h.call(this)}}j(Te,ce);var Re={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function Be(l,d,g,E,O){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=O,this.key=++Me,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qn(l){this.src=l,this.g={},this.h=0}Qn.prototype.add=function(l,d,g,E,O){var b=l.toString();l=this.g[b],l||(l=this.g[b]=[],this.h++);var Z=gr(l,d,E,O);return-1<Z?(d=l[Z],g||(d.fa=!1)):(d=new Be(d,this.src,b,!!E,O),d.fa=g,l.push(d)),d};function Vi(l,d){var g=d.type;if(g in l.g){var E=l.g[g],O=Array.prototype.indexOf.call(E,d,void 0),b;(b=0<=O)&&Array.prototype.splice.call(E,O,1),b&&(mt(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function gr(l,d,g,E){for(var O=0;O<l.length;++O){var b=l[O];if(!b.da&&b.listener==d&&b.capture==!!g&&b.ha==E)return O}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Li={};function Ws(l,d,g,E,O){if(Array.isArray(d)){for(var b=0;b<d.length;b++)Ws(l,d[b],g,E,O);return null}return g=Gs(g),l&&l[Oe]?l.K(d,g,v(E)?!!E.capture:!1,O):Ks(l,d,g,!1,E,O)}function Ks(l,d,g,E,O,b){if(!d)throw Error("Invalid event type");var Z=v(O)?!!O.capture:!!O,Fe=Mi(l);if(Fe||(l[Jr]=Fe=new Qn(l)),g=Fe.add(d,g,E,Z,b),g.proxy)return g;if(E=ca(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)we||(O=Z),O===void 0&&(O=!1),l.addEventListener(d.toString(),E,O);else if(l.attachEvent)l.attachEvent(Xn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ca(){function l(g){return d.call(l.src,l.listener,g)}const d=Qs;return l}function Oi(l,d,g,E,O){if(Array.isArray(d))for(var b=0;b<d.length;b++)Oi(l,d[b],g,E,O);else E=v(E)?!!E.capture:!!E,g=Gs(g),l&&l[Oe]?(l=l.i,d=String(d).toString(),d in l.g&&(b=l.g[d],g=gr(b,g,E,O),-1<g&&(mt(b[g]),Array.prototype.splice.call(b,g,1),b.length==0&&(delete l.g[d],l.h--)))):l&&(l=Mi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=gr(d,g,E,O)),(g=-1<l?d[l]:null)&&Gn(g))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Oe])Vi(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(Xn(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=Mi(d))?(Vi(g,l),g.h==0&&(g.src=null,d[Jr]=null)):mt(l)}}}function Xn(l){return l in Li?Li[l]:Li[l]="on"+l}function Qs(l,d){if(l.da)l=!0;else{d=new Te(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Gn(l),l=g.call(E,d)}return l}function Mi(l){return l=l[Jr],l instanceof Qn?l:null}var Fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gs(l){return typeof l=="function"?l:(l[Fi]||(l[Fi]=function(d){return l.handleEvent(d)}),l[Fi])}function lt(){q.call(this),this.i=new Qn(this),this.M=this,this.F=null}j(lt,q),lt.prototype[Oe]=!0,lt.prototype.removeEventListener=function(l,d,g,E){Oi(this,l,d,g,E)};function ut(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ce(d,l);else if(d instanceof ce)d.target=d.target||l;else{var O=d;d=new ce(E,l),P(d,O)}if(O=!0,g)for(var b=g.length-1;0<=b;b--){var Z=d.g=g[b];O=Yn(Z,E,!0,d)&&O}if(Z=d.g=l,O=Yn(Z,E,!0,d)&&O,O=Yn(Z,E,!1,d)&&O,g)for(b=0;b<g.length;b++)Z=d.g=g[b],O=Yn(Z,E,!1,d)&&O}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)mt(g[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},lt.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function Yn(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,b=0;b<d.length;++b){var Z=d[b];if(Z&&!Z.da&&Z.capture==g){var Fe=Z.listener,ct=Z.ha||Z.src;Z.fa&&Vi(l.i,Z),O=Fe.call(ct,E)!==!1&&O}}return O&&!E.defaultPrevented}function Xs(l,d,g){if(typeof l=="function")g&&(l=k(l,g));else if(l&&typeof l.handleEvent=="function")l=k(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function yr(l){l.g=Xs(()=>{l.g=null,l.i&&(l.i=!1,yr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Zr extends q{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(l){q.call(this),this.h=l,this.g={}}j(ei,q);var Ys=[];function Js(l){Ee(l.g,function(d,g){this.g.hasOwnProperty(g)&&Gn(d)},l),l.g={}}ei.prototype.N=function(){ei.aa.N.call(this),Js(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=m.JSON.stringify,eo=m.JSON.parse,to=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ti(){}ti.prototype.h=null;function Ui(l){return l.h||(l.h=l.i())}function zi(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){ce.call(this,"d")}j(xn,ce);function Bi(){ce.call(this,"c")}j(Bi,ce);var Dn={},no=null;function ni(){return no=no||new lt}Dn.La="serverreachability";function ro(l){ce.call(this,Dn.La,l)}j(ro,ce);function Jn(l){const d=ni();ut(d,new ro(d))}Dn.STAT_EVENT="statevent";function io(l,d){ce.call(this,Dn.STAT_EVENT,l),this.stat=d}j(io,ce);function tt(l){const d=ni();ut(d,new io(d,l))}Dn.Ma="timingevent";function ji(l,d){ce.call(this,Dn.Ma,l),this.size=d}j(ji,ce);function mn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function ii(l,d,g,E,O,b){l.info(function(){if(l.g)if(b)for(var Z="",Fe=b.split("&"),ct=0;ct<Fe.length;ct++){var Ae=Fe[ct].split("=");if(1<Ae.length){var gt=Ae[0];Ae=Ae[1];var st=gt.split("_");Z=2<=st.length&&st[1]=="type"?Z+(gt+"="+Ae+"&"):Z+(gt+"=redacted&")}}else Z=null;else Z=b;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+g+`
`+Z})}function bi(l,d,g,E,O,b,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+g+`
`+b+" "+Z})}function gn(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+hu(l,g)+(E?" "+E:"")})}function so(l,d){l.info(function(){return"TIMEOUT: "+d})}ri.prototype.info=function(){};function hu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var b=O[0];if(b!="noop"&&b!="stop"&&b!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return Zs(g)}catch{return d}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ha={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yn;function si(){}j(si,ti),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},yn=new si;function _n(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fa}function fa(){this.i=null,this.g="",this.h=!1}var oo={},Hi={};function qi(l,d,g){l.L=1,l.v=Tr(Jt(d)),l.m=g,l.P=!0,ao(l,null)}function ao(l,d){l.F=Date.now(),je(l),l.A=Jt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Ir(g.i,"t",E),l.C=0,g=l.j.J,l.h=new fa,l.g=xa(l.j,g?d:null,!l.m),0<l.O&&(l.M=new Zr(k(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Ys[0]=O.toString()),O=Ys);for(var b=0;b<O.length;b++){var Z=Ws(g,O[b],E||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Jn(),ii(l.i,l.u,l.A,l.l,l.R,l.m)}_n.prototype.ca=function(l){l=l.target;const d=this.M;d&&bt(l)==3?d.j():this.Y(l)},_n.prototype.Y=function(l){try{if(l==this.g)e:{const st=bt(this.g);var d=this.g.Ba();const ln=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||po(this.g)))){this.J||st!=4||d==7||(d==8||0>=ln?Jn(3):Jn(2)),oi(this);var g=this.g.Z();this.X=g;t:if(da(this)){var E=po(this.g);l="";var O=E.length,b=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),_r(this);var Z="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(b&&d==O-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,bi(this.i,this.u,this.A,this.l,this.R,st,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,ct=this.g;if((Fe=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Fe)){var Ae=Fe;break t}}Ae=null}if(g=Ae)gn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lo(this,g);else{this.o=!1,this.s=3,tt(12),on(this),_r(this);break e}}if(this.P){g=!0;let en;for(;!this.J&&this.C<Z.length;)if(en=fu(this,Z),en==Hi){st==4&&(this.s=4,tt(14),g=!1),gn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==oo){this.s=4,tt(15),gn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else gn(this.i,this.l,en,null),lo(this,en);if(da(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||Z.length!=0||this.h.h||(this.s=1,tt(16),g=!1),this.o=this.o&&g,!g)gn(this.i,this.l,Z,"[Invalid Chunked Response]"),on(this),_r(this);else if(0<Z.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),go(gt),gt.M=!0,tt(11))}}else gn(this.i,this.l,Z,null),lo(this,Z);st==4&&on(this),this.o&&!this.J&&(st==4?ns(this.j,this):(this.o=!1,je(this)))}else Yi(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),on(this),_r(this)}}}catch{}finally{}};function da(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fu(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?Hi:(g=Number(d.substring(g,E)),isNaN(g)?oo:(E+=1,E+g>d.length?Hi:(d=d.slice(E,E+g),l.C=E+g,d)))}_n.prototype.cancel=function(){this.J=!0,on(this)};function je(l){l.S=Date.now()+l.I,pa(l,l.I)}function pa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=mn(k(l.ba,l),d)}function oi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}_n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(so(this.i,this.A),this.L!=2&&(Jn(),tt(17)),on(this),this.s=2,_r(this)):pa(this,this.S-l)};function _r(l){l.j.G==0||l.J||ns(l.j,l)}function on(l){oi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Js(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function lo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Mt(g.h,l))){if(!l.K&&Mt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)ts(g),Sn(g);else break e;es(g),tt(18)}}else g.za=O[1],0<g.za-g.T&&37500>O[2]&&g.F&&g.v==0&&!g.C&&(g.C=mn(k(g.Za,g),6e3));if(1>=ga(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rr(g,11)}else if((l.K||g.g==l)&&ts(g),!ne(d))for(O=g.Da.g.parse(d),d=0;d<O.length;d++){let Ae=O[d];if(g.T=Ae[0],Ae=Ae[1],g.G==2)if(Ae[0]=="c"){g.K=Ae[1],g.ia=Ae[2];const gt=Ae[3];gt!=null&&(g.la=gt,g.j.info("VER="+g.la));const st=Ae[4];st!=null&&(g.Aa=st,g.j.info("SVER="+g.Aa));const ln=Ae[5];ln!=null&&typeof ln=="number"&&0<ln&&(E=1.5*ln,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const en=l.g;if(en){const di=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var b=E.h;b.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(uo(b,b.h),b.h=null))}if(E.D){const is=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;is&&(E.ya=is,ze(E.I,E.D,is))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var Z=l;if(E.qa=ka(E,E.J?E.ia:null,E.W),Z.K){ya(E.h,Z);var Fe=Z,ct=E.L;ct&&(Fe.I=ct),Fe.B&&(oi(Fe),je(Fe)),E.g=Z}else fi(E);0<g.i.length&&On(g)}else Ae[0]!="stop"&&Ae[0]!="close"||rr(g,7);else g.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?rr(g,7):Tt(g):Ae[0]!="noop"&&g.l&&g.l.ta(Ae),g.v=0)}}Jn(4)}catch{}}var ma=class{constructor(l,d){this.g=l,this.map=d}};function ai(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ga(l){return l.h?1:l.g?l.g.size:0}function Mt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function uo(l,d){l.g?l.g.add(d):l.h=d}function ya(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ai.prototype.cancel=function(){if(this.i=_a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function _a(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return H(l.i)}function Wi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function Ki(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function vr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Ki(l),E=Wi(l),O=E.length,b=0;b<O;b++)d.call(void 0,E[b],g&&g[b],l)}var li=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function du(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),O=null;if(0<=E){var b=l[g].substring(0,E);O=l[g].substring(E+1)}else b=l[g];d(b,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,ui(this,l.j),this.o=l.o,this.g=l.g,Er(this,l.s),this.l=l.l;var d=l.i,g=new Nn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),wr(this,g),this.m=l.m}else l&&(d=String(l).match(li))?(this.h=!1,ui(this,d[1]||"",!0),this.o=Ce(d[2]||""),this.g=Ce(d[3]||"",!0),Er(this,d[4]),this.l=Ce(d[5]||"",!0),wr(this,d[6]||"",!0),this.m=Ce(d[7]||"")):(this.h=!1,this.i=new Nn(null,this.h))}Zn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Sr(d,Qi,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Sr(d,Qi,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Sr(g,g.charAt(0)=="/"?wa:Ea,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Sr(g,co)),l.join("")};function Jt(l){return new Zn(l)}function ui(l,d,g){l.j=g?Ce(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Er(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function wr(l,d,g){d instanceof Nn?(l.i=d,Vn(l.i,l.h)):(g||(d=Sr(d,Ta)),l.i=new Nn(d,l.h))}function ze(l,d,g){l.i.set(d,g)}function Tr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ce(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,va),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function va(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Qi=/[#\/\?@]/g,Ea=/[#\?:]/g,wa=/[#\?]/g,Ta=/[#\?@]/g,co=/#/g;function Nn(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function wt(l){l.g||(l.g=new Map,l.h=0,l.i&&du(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Nn.prototype,i.add=function(l,d){wt(this),this.i=null,l=an(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function vn(l,d){wt(l),d=an(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function En(l,d){return wt(l),d=an(l,d),l.g.has(d)}i.forEach=function(l,d){wt(this),this.g.forEach(function(g,E){g.forEach(function(O){l.call(d,O,E,this)},this)},this)},i.na=function(){wt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const O=l[E];for(let b=0;b<O.length;b++)g.push(d[E])}return g},i.V=function(l){wt(this);let d=[];if(typeof l=="string")En(this,l)&&(d=d.concat(this.g.get(an(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return wt(this),this.i=null,l=an(this,l),En(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,g){vn(l,d),0<g.length&&(l.i=null,l.g.set(an(l,d),H(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const b=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var O=b;Z[E]!==""&&(O+="="+encodeURIComponent(String(Z[E]))),l.push(O)}}return this.i=l.join("&")};function an(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Vn(l,d){d&&!l.j&&(wt(l),l.i=null,l.g.forEach(function(g,E){var O=E.toLowerCase();E!=O&&(vn(this,E),Ir(this,O,g))},l)),l.j=d}function pu(l,d){const g=new ri;if(m.Image){const E=new Image;E.onload=F(jt,g,"TestLoadImage: loaded",!0,d,E),E.onerror=F(jt,g,"TestLoadImage: error",!1,d,E),E.onabort=F(jt,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=F(jt,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Sa(l,d){const g=new ri,E=new AbortController,O=setTimeout(()=>{E.abort(),jt(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(b=>{clearTimeout(O),b.ok?jt(g,"TestPingServer: ok",!0,d):jt(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),jt(g,"TestPingServer: error",!1,d)})}function jt(l,d,g,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(g)}catch{}}function mu(){this.g=new to}function Ia(l,d,g){const E=g||"";try{vr(l,function(O,b){let Z=O;v(O)&&(Z=Zs(O)),d.push(E+b+"="+encodeURIComponent(Z))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}j(er,ti),er.prototype.g=function(){return new ci(this.l,this.j)},er.prototype.i=function(l){return function(){return l}}({});function ci(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(ci,lt),i=ci.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Tn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?wn(this):Tn(this),this.readyState==3&&Ca(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,wn(this))},i.Qa=function(l){this.g&&(this.response=l,wn(this))},i.ga=function(){this.g&&wn(this)};function wn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Tn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Tn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let d="";return Ee(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Cr(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=tr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):ze(l,d,g))}function We(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(We,lt);var gu=/^https?$/i,ho=["POST","PUT"];i=We.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yn.g(),this.v=this.o?Ui(this.o):Ui(yn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(b){hi(this,b);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)g.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const b of E.keys())g.set(b,E.get(b));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(b=>b.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ho,d,void 0))||E||O||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,Z]of g)this.g.setRequestHeader(b,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(l),this.u=!1}catch(b){hi(this,b)}};function hi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Gi(l),Zt(l)}function Gi(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?fo(this):this.bb())},i.bb=function(){fo(this)};function fo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||bt(l)!=4||l.Z()!=2)){if(l.u&&bt(l)==4)Xs(l.Ea,0,l);else if(ut(l,"readystatechange"),bt(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=Z===0){var O=String(l.D).match(li)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!gu.test(O?O.toLowerCase():"")}g=E}if(g)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var b=2<bt(l)?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.Z()+"]",Gi(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){Xi(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{g.onreadystatechange=E}catch{}}}function Xi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),eo(d)}};function po(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(l){const d={};l=(l.g&&2<=bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ne(l[E]))continue;var g=N(l[E]);const O=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const b=d[O]||[];d[O]=b,b.push(g)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function mo(l){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ln("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ln("baseRetryDelayMs",5e3,l),this.cb=Ln("retryDelaySeedMs",1e4,l),this.Wa=Ln("forwardChannelMaxRetries",2,l),this.wa=Ln("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ai(l&&l.concurrentRequestLimit),this.Da=new mu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=mo.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){tt(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=ka(this,null,this.W),On(this)};function Tt(l){if(Ji(l),l.G==3){var d=l.U++,g=Jt(l.I);if(ze(g,"SID",l.K),ze(g,"RID",d),ze(g,"TYPE","terminate"),nr(l,g),d=new _n(l,l.j,d),d.L=2,d.v=Tr(Jt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=xa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),je(d)}Pa(l)}function Sn(l){l.g&&(go(l),l.g.cancel(),l.g=null)}function Ji(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),ts(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function On(l){if(!Yt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ue||ie(),ee||(Ue(),ee=!0),fe.add(d,l),l.B=0}}function yu(l,d){return ga(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=mn(k(l.Ga,l,d),Aa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new _n(this,this.j,l);let b=this.o;if(this.S&&(b?(b=T(b),P(b,this.S)):b=this.S),this.m!==null||this.O||(O.H=b,b=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Rr(this,O,d),g=Jt(this.I),ze(g,"RID",l),ze(g,"CVER",22),this.D&&ze(g,"X-HTTP-Session-Id",this.D),nr(this,g),b&&(this.O?d="headers="+encodeURIComponent(String(tr(b)))+"&"+d:this.m&&Cr(g,this.m,b)),uo(this.h,O),this.Ua&&ze(g,"TYPE","init"),this.P?(ze(g,"$req",d),ze(g,"SID","null"),O.T=!0,qi(O,g,null)):qi(O,g,d),this.G=2}}else this.G==3&&(l?Zi(this,l):this.i.length==0||Yt(this.h)||Zi(this))};function Zi(l,d){var g;d?g=d.l:g=l.U++;const E=Jt(l.I);ze(E,"SID",l.K),ze(E,"RID",g),ze(E,"AID",l.T),nr(l,E),l.m&&l.o&&Cr(E,l.m,l.o),g=new _n(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Rr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),uo(l.h,g),qi(g,E,d)}function nr(l,d){l.H&&Ee(l.H,function(g,E){ze(d,E,g)}),l.l&&vr({},function(g,E){ze(d,E,g)})}function Rr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?k(l.l.Na,l.l,l):null;e:{var O=l.i;let b=-1;for(;;){const Z=["count="+g];b==-1?0<g?(b=O[0].g,Z.push("ofs="+b)):b=0:Z.push("ofs="+b);let Fe=!0;for(let ct=0;ct<g;ct++){let Ae=O[ct].g;const gt=O[ct].map;if(Ae-=b,0>Ae)b=Math.max(0,O[ct].g-100),Fe=!1;else try{Ia(gt,Z,"req"+Ae+"_")}catch{E&&E(gt)}}if(Fe){E=Z.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function fi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ue||ie(),ee||(Ue(),ee=!0),fe.add(d,l),l.v=0}}function es(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=mn(k(l.Fa,l),Aa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ra(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=mn(k(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Sn(this),Ra(this))};function go(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ra(l){l.g=new _n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);ze(d,"RID","rpc"),ze(d,"SID",l.K),ze(d,"AID",l.T),ze(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(d,"TO",l.ja),ze(d,"TYPE","xmlhttp"),nr(l,d),l.m&&l.o&&Cr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Tr(Jt(d)),g.m=null,g.P=!0,ao(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),es(this),tt(19))};function ts(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ns(l,d){var g=null;if(l.g==d){ts(l),go(l),l.g=null;var E=2}else if(Mt(l.h,d))g=d.D,ya(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;E=ni(),ut(E,new ji(E,g)),On(l)}else fi(l);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&yu(l,d)||E==2&&es(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),O){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function Aa(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function rr(l,d){if(l.j.info("Error code "+d),d==2){var g=k(l.fb,l),E=l.Xa;const O=!E;E=new Zn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ui(E,"https"),Tr(E),O?pu(E.toString(),g):Sa(E.toString(),g)}else tt(2);l.G=0,l.l&&l.l.sa(d),Pa(l),Ji(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Pa(l){if(l.G=0,l.ka=[],l.l){const d=_a(l.h);(d.length!=0||l.i.length!=0)&&(B(l.ka,d),B(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function ka(l,d,g){var E=g instanceof Zn?Jt(g):new Zn(g);if(E.g!="")d&&(E.g=d+"."+E.g),Er(E,E.s);else{var O=m.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var b=new Zn(null);E&&ui(b,E),d&&(b.g=d),O&&Er(b,O),g&&(b.l=g),E=b}return g=l.D,d=l.ya,g&&d&&ze(E,g,d),ze(E,"VER",l.la),nr(l,E),E}function xa(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new We(new er({eb:g})):new We(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yo(){}i=yo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function rs(){}rs.prototype.g=function(l,d){return new Ft(l,d)};function Ft(l,d){lt.call(this),this.g=new mo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ne(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ne(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Mn(this)}j(Ft,lt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Tt(this.g)},Ft.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Zs(l),l=g);d.i.push(new ma(d.Ya++,l)),d.G==3&&On(d)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,Ft.aa.N.call(this)};function Da(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}j(Da,xn);function Na(){Bi.call(this),this.status=1}j(Na,Bi);function Mn(l){this.g=l}j(Mn,yo),Mn.prototype.ua=function(){ut(this.g,"a")},Mn.prototype.ta=function(l){ut(this.g,new Da(l))},Mn.prototype.sa=function(l){ut(this.g,new Na)},Mn.prototype.ra=function(){ut(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,Wm=function(){return new rs},qm=function(){return ni()},Hm=Dn,lh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Ol=$i,ha.COMPLETE="complete",$m=ha,zi.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ho=zi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,bm=We}).apply(typeof Al<"u"?Al:typeof self<"u"?self:typeof window<"u"?window:{});const Dp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Om("@firebase/firestore");function Cs(){return xi.logLevel}function se(i,...e){if(xi.logLevel<=ke.DEBUG){const n=e.map(Vh);xi.debug(`Firestore (${bs}): ${i}`,...n)}}function pr(i,...e){if(xi.logLevel<=ke.ERROR){const n=e.map(Vh);xi.error(`Firestore (${bs}): ${i}`,...n)}}function Vs(i,...e){if(xi.logLevel<=ke.WARN){const n=e.map(Vh);xi.warn(`Firestore (${bs}): ${i}`,...n)}}function Vh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function Ye(i,e){i||ve()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends js{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class ow{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aw{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new Km(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Lt(e)}}class lw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new lw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new cw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=fw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function Ls(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new Xt(0,0))}static max(){return new _e(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof jn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=jn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=jn.isNumericId(e),a=jn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?jn.extractNumericId(e).compare(jn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qr.fromString(e.substring(4,e.length-2))}}class Ze extends jn{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends jn{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return pw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ze.fromString(e))}static fromName(e){return new ge(Ze.fromString(e).popFirst(5))}static empty(){return new ge(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ze(e.slice()))}}function mw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new Xt(n+1,0):new Xt(n,s));return new Kr(a,ge.empty(),e)}function gw(i){return new Kr(i.readTime,i.key,-1)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(_e.min(),ge.empty(),-1)}static max(){return new Kr(_e.max(),ge.empty(),-1)}}function yw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==_w)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(a=>a?W.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new W((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(w=>{f[v]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new W((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Ew(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $s(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eu.oe=-1;function tu(i){return i==null}function uh(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Np(e)),e=Tw(i.get(n),e);return Np(e)}function Tw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Np(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function oa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Sw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pl(this.root,e,this.comparator,!0)}}class Pl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lp(this.data.getIterator())}getIteratorFrom(e){return new Lp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Lp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new jr([])}unionWith(e){let n=new pt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Qm("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const Iw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(Ye(!!i),typeof i=="string"){let e=0;const n=Iw.exec(i);if(Ye(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(i.seconds),nanos:rt(i.nanos)}}function rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Gr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nu(i){const e=i.mapValue.fields.__previous_value__;return Lh(e)?nu(e):e}function ea(i){const e=Qr(i.mapValue.fields.__local_write_time__.timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,s,a,c,f,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class ta{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Lh(i)?4:Aw(i)?9007199254740991:Rw(i)?10:11:ve()}function qn(i,e){if(i===e)return!0;const n=Xr(i);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ea(i).isEqual(ea(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Qr(a.timestampValue),m=Qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Gr(a.bytesValue).isEqual(Gr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return rt(a.geoPointValue.latitude)===rt(c.geoPointValue.latitude)&&rt(a.geoPointValue.longitude)===rt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return rt(a.integerValue)===rt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=rt(a.doubleValue),m=rt(c.doubleValue);return f===m?uh(f)===uh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ls(i.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Vp(f)!==Vp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!qn(f[y],m[y])))return!1;return!0}(i,e);default:return ve()}}function na(i,e){return(i.values||[]).find(n=>qn(n,e))!==void 0}function Os(i,e){if(i===e)return 0;const n=Xr(i),s=Xr(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=rt(c.integerValue||c.doubleValue),y=rt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Op(i.timestampValue,e.timestampValue);case 4:return Op(ea(i),ea(e));case 5:return xe(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Gr(c),y=Gr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let v=0;v<m.length&&v<y.length;v++){const w=xe(m[v],y[v]);if(w!==0)return w}return xe(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=xe(rt(c.latitude),rt(f.latitude));return m!==0?m:xe(rt(c.longitude),rt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Mp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,v,w;const R=c.fields||{},k=f.fields||{},F=(m=R.value)===null||m===void 0?void 0:m.arrayValue,j=(y=k.value)===null||y===void 0?void 0:y.arrayValue,H=xe(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return H!==0?H:Mp(F,j)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===kl.mapValue&&f===kl.mapValue)return 0;if(c===kl.mapValue)return 1;if(f===kl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=f.fields||{},w=Object.keys(v);y.sort(),w.sort();for(let R=0;R<y.length&&R<w.length;++R){const k=xe(y[R],w[R]);if(k!==0)return k;const F=Os(m[y[R]],v[w[R]]);if(F!==0)return F}return xe(y.length,w.length)}(i.mapValue,e.mapValue);default:throw ve()}}function Op(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const n=Qr(i),s=Qr(e),a=xe(n.seconds,s.seconds);return a!==0?a:xe(n.nanos,s.nanos)}function Mp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Os(n[a],s[a]);if(c)return c}return xe(n.length,s.length)}function Ms(i){return ch(i)}function ch(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Gr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ch(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${ch(n.fields[f])}`;return a+"}"}(i.mapValue):ve()}function Ml(i){switch(Xr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nu(i);return e?16+Ml(e):16;case 5:return 2*i.stringValue.length;case 6:return Gr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ml(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return oa(s.fields,(c,f)=>{a+=c.length+Ml(f)}),a}(i.mapValue);default:throw ve()}}function hh(i){return!!i&&"integerValue"in i}function Oh(i){return!!i&&"arrayValue"in i}function Fp(i){return!!i&&"nullValue"in i}function Up(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Qc(i){return!!i&&"mapValue"in i}function Rw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ko(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return oa(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ko(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Aw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=Bt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Ko(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Qc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){oa(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new bn(Ko(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ot(e,0,_e.min(),_e.min(),_e.min(),bn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,_e.min(),_e.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,_e.min(),_e.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.position=e,this.inclusive=n}}function zp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=Os(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bp(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{}class dt extends Gm{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new xw(e,n,s):n==="array-contains"?new Vw(e,s):n==="in"?new Lw(e,s):n==="not-in"?new Ow(e,s):n==="array-contains-any"?new Mw(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Dw(e,s):new Nw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Os(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends Gm{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Wn(e,n)}matches(e){return Xm(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xm(i){return i.op==="and"}function Ym(i){return kw(i)&&Xm(i)}function kw(i){for(const e of i.filters)if(e instanceof Wn)return!1;return!0}function fh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+Ms(i.value);if(Ym(i))return i.filters.map(e=>fh(e)).join(",");{const e=i.filters.map(n=>fh(n)).join(",");return`${i.op}(${e})`}}function Jm(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&qn(s.value,a.value)}(i,e):i instanceof Wn?function(s,a){return a instanceof Wn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Jm(f,a.filters[m]),!0):!1}(i,e):void ve()}function Zm(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ms(n.value)}`}(i):i instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Zm).join(" ,")+"}"}(i):"Filter"}class xw extends dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dw extends dt{constructor(e,n){super(e,"in",n),this.keys=eg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Nw extends dt{constructor(e,n){super(e,"not-in",n),this.keys=eg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class Vw extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oh(n)&&na(n.arrayValue,this.value)}}class Lw extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&na(this.value.arrayValue,n)}}class Ow extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!na(this.value.arrayValue,n)}}class Mw extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>na(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function jp(i,e=null,n=[],s=[],a=null,c=null,f=null){return new Fw(i,e,n,s,a,c,f)}function Mh(i){const e=De(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>fh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ms(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ms(s)).join(",")),e.ue=n}return e.ue}function Fh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Pw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Jm(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bp(i.startAt,e.startAt)&&Bp(i.endAt,e.endAt)}function dh(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Uw(i,e,n,s,a,c,f,m){return new ru(i,e,n,s,a,c,f,m)}function tg(i){return new ru(i)}function bp(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zw(i){return i.collectionGroup!==null}function Qo(i){const e=De(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new pt(Bt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new ql(c,s))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new ql(Bt.keyField(),s))}return e.ce}function $n(i){const e=De(i);return e.le||(e.le=Bw(e,Qo(i))),e.le}function Bw(i,e){if(i.limitType==="F")return jp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new ql(a.field,c)});const n=i.endAt?new Hl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Hl(i.startAt.position,i.startAt.inclusive):null;return jp(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function ph(i,e,n){return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function iu(i,e){return Fh($n(i),$n(e))&&i.limitType===e.limitType}function ng(i){return`${Mh($n(i))}|lt:${i.limitType}`}function Rs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Zm(a)).join(", ")}]`),tu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Ms(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Ms(a)).join(",")),`Target(${s})`}($n(i))}; limitType=${i.limitType})`}function su(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Qo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const v=zp(f,m,y);return f.inclusive?v<=0:v<0}(s.startAt,Qo(s),a)||s.endAt&&!function(f,m,y){const v=zp(f,m,y);return f.inclusive?v>=0:v>0}(s.endAt,Qo(s),a))}(i,e)}function jw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function rg(i){return(e,n)=>{let s=!1;for(const a of Qo(i)){const c=bw(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function bw(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Os(y,v):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Sw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new it(ge.comparator);function Yr(){return $w}const ig=new it(ge.comparator);function qo(...i){let e=ig;for(const n of i)e=e.insert(n.key,n);return e}function Hw(i){let e=ig;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ai(){return Go()}function sg(){return Go()}function Go(){return new Ni(i=>i.toString(),(i,e)=>i.isEqual(e))}const qw=new pt(ge.comparator);function Ve(...i){let e=qw;for(const n of i)e=e.add(n);return e}const Ww=new pt(xe);function Kw(){return Ww}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function Gw(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this._=void 0}}function Xw(i,e,n){return i instanceof mh?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Lh(c)&&(c=nu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof Wl?og(i,e):i instanceof Kl?ag(i,e):function(a,c){const f=Jw(a,c),m=$p(f)+$p(a.Pe);return hh(f)&&hh(a.Pe)?Gw(m):Qw(a.serializer,m)}(i,e)}function Yw(i,e,n){return i instanceof Wl?og(i,e):i instanceof Kl?ag(i,e):n}function Jw(i,e){return i instanceof gh?function(s){return hh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class mh extends ou{}class Wl extends ou{constructor(e){super(),this.elements=e}}function og(i,e){const n=lg(e);for(const s of i.elements)n.some(a=>qn(a,s))||n.push(s);return{arrayValue:{values:n}}}class Kl extends ou{constructor(e){super(),this.elements=e}}function ag(i,e){let n=lg(e);for(const s of i.elements)n=n.filter(a=>!qn(a,s));return{arrayValue:{values:n}}}class gh extends ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $p(i){return rt(i.integerValue||i.doubleValue)}function lg(i){return Oh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Zw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Wl&&a instanceof Wl||s instanceof Kl&&a instanceof Kl?Ls(s.elements,a.elements,qn):s instanceof gh&&a instanceof gh?qn(s.Pe,a.Pe):s instanceof mh&&a instanceof mh}(i.transform,e.transform)}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Uh{}function ug(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new t0(i.key,ki.none()):new zh(i.key,i.data,ki.none());{const n=i.data,s=bn.empty();let a=new pt(Bt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new au(i.key,s,new jr(a.toArray()),ki.none())}}function e0(i,e,n){i instanceof zh?function(a,c,f){const m=a.value.clone(),y=qp(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof au?function(a,c,f){if(!Fl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=qp(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(cg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xo(i,e,n,s){return i instanceof zh?function(c,f,m,y){if(!Fl(c.precondition,f))return m;const v=c.value.clone(),w=Wp(c.fieldTransforms,y,f);return v.setAll(w),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof au?function(c,f,m,y){if(!Fl(c.precondition,f))return m;const v=Wp(c.fieldTransforms,y,f),w=f.data;return w.setAll(cg(c)),w.setAll(v),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,f,m){return Fl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function Hp(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ls(s,a,(c,f)=>Zw(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class zh extends Uh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class au extends Uh{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function qp(i,e,n){const s=new Map;Ye(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,Yw(f,m,n[a]))}return s}function Wp(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,Xw(c,f,e))}return s}class t0 extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&e0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=ug(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(n,s)=>Hp(n,s))&&Ls(this.baseMutations,e.baseMutations,(n,s)=>Hp(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Pe;function hg(i){if(i===void 0)return pr("GRPC error has no .code"),te.UNKNOWN;switch(i){case at.OK:return te.OK;case at.CANCELLED:return te.CANCELLED;case at.UNKNOWN:return te.UNKNOWN;case at.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case at.INTERNAL:return te.INTERNAL;case at.UNAVAILABLE:return te.UNAVAILABLE;case at.UNAUTHENTICATED:return te.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case at.NOT_FOUND:return te.NOT_FOUND;case at.ALREADY_EXISTS:return te.ALREADY_EXISTS;case at.PERMISSION_DENIED:return te.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case at.ABORTED:return te.ABORTED;case at.OUT_OF_RANGE:return te.OUT_OF_RANGE;case at.UNIMPLEMENTED:return te.UNIMPLEMENTED;case at.DATA_LOSS:return te.DATA_LOSS;default:return ve()}}(Pe=at||(at={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new qr([4294967295,4294967295],0);function Kp(i){const e=s0().encode(i),n=new jm;return n.update(e),new Uint8Array(n.digest())}function Qp(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qr([n,s],0),new qr([a,c],0)]}class Bh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(s<0)throw new Wo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=qr.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(qr.fromNumber(s)));return a.compare(o0)===1&&(a=new qr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Kp(e),[s,a]=Qp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Bh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Kp(e),[s,a]=Qp(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lu(_e.min(),a,new it(xe),Yr(),Ve())}}class aa{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new aa(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class fg{constructor(e,n){this.targetId=e,this.me=n}}class dg{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Gp{constructor(){this.fe=0,this.ge=Xp(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),s=Ve();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new aa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Xp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class a0{constructor(e){this.Be=e,this.Le=new Map,this.ke=Yr(),this.qe=xl(),this.Qe=xl(),this.Ke=new it(xe)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(dh(c))if(s===0){const f=new ge(c.path);this.We(n,f,Ot.newNoDocument(f,_e.min()))}else Ye(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(y){if(y instanceof Qm)return Vs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Bh(f,a,c)}catch(y){return Vs(y instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&dh(m.target)){const y=new ge(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Ot.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ve();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const v=this.Ye(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new lu(e,n,this.Ke,this.ke,s);return this.ke=Yr(),this.qe=xl(),this.Qe=xl(),this.Ke=new it(xe),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Gp,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new pt(xe),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(xe),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Gp),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function xl(){return new it(ge.comparator)}function Xp(){return new it(ge.comparator)}const l0={asc:"ASCENDING",desc:"DESCENDING"},u0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c0={and:"AND",or:"OR"};class h0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yh(i,e){return i.useProto3Json||tu(e)?e:{value:e}}function f0(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function d0(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function xs(i){return Ye(!!i),_e.fromTimestamp(function(n){const s=Qr(n);return new Xt(s.seconds,s.nanos)}(i))}function p0(i,e){return _h(i,e).canonicalString()}function _h(i,e){const n=function(a){return new Ze(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function pg(i){const e=Ze.fromString(i);return Ye(vg(e)),e}function Gc(i,e){const n=pg(e);if(n.get(1)!==i.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(gg(n))}function mg(i,e){return p0(i.databaseId,e)}function m0(i){const e=pg(i);return e.length===4?Ze.emptyPath():gg(e)}function Yp(i){return new Ze(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gg(i){return Ye(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function g0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,w){return v.useProto3Json?(Ye(w===void 0||typeof w=="string"),Rt.fromBase64String(w||"")):(Ye(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Rt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(v){const w=v.code===void 0?te.UNKNOWN:hg(v.code);return new me(w,v.message||"")}(f);n=new dg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Gc(i,s.document.name),c=xs(s.document.updateTime),f=s.document.createTime?xs(s.document.createTime):_e.min(),m=new bn({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,f,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Ul(v,w,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Gc(i,s.document),c=s.readTime?xs(s.readTime):_e.min(),f=Ot.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Ul([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Gc(i,s.document),c=s.removedTargetIds||[];n=new Ul([],c,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new i0(a,c),m=s.targetId;n=new fg(m,f)}}return n}function y0(i,e){return{documents:[mg(i,e.path)]}}function _0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mg(i,a);const c=function(v){if(v.length!==0)return _g(Wn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(v){if(v.length!==0)return v.map(w=>function(k){return{field:As(k.field),direction:w0(k.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=yh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function v0(i){let e=m0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ye(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const k=yg(R);return k instanceof Wn&&Ym(k)?k.getFilters():[k]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(k=>function(j){return new ql(Ps(j.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(k))}(n.orderBy));let m=null;n.limit&&(m=function(R){let k;return k=typeof R=="object"?R.value:R,tu(k)?null:k}(n.limit));let y=null;n.startAt&&(y=function(R){const k=!!R.before,F=R.values||[];return new Hl(F,k)}(n.startAt));let v=null;return n.endAt&&(v=function(R){const k=!R.before,F=R.values||[];return new Hl(F,k)}(n.endAt)),Uw(e,a,f,c,m,"F",y,v)}function E0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ps(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ps(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ps(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ps(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Ps(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(s=>yg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function w0(i){return l0[i]}function T0(i){return u0[i]}function S0(i){return c0[i]}function As(i){return{fieldPath:i.canonicalString()}}function Ps(i){return Bt.fromServerFormat(i.fieldPath)}function _g(i){return i instanceof dt?function(n){if(n.op==="=="){if(Up(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(Fp(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Up(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(Fp(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:T0(n.op),value:n.value}}}(i):i instanceof Wn?function(n){const s=n.getFilters().map(a=>_g(a));return s.length===1?s[0]:{compositeFilter:{op:S0(n.op),filters:s}}}(i):ve()}function vg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e,n,s,a,c=_e.min(),f=_e.min(),m=Rt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.ht=e}}function C0(i){const e=v0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ph(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.ln=new A0}addToCollectionParentIndex(e,n){return this.ln.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Kr.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class A0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new pt(Ze.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Fs(0)}static Qn(){return new Fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp([i,e],[n,s]){const a=xe(i,n);return a===0?xe(e,s):a}class P0{constructor(e){this.Gn=e,this.buffer=new pt(Zp),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Zp(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$s(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Zl(n)}await this.Yn(3e5)})}}class x0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(eu.oe);const s=new P0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Jp)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jp):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,f=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(v=Date.now(),Cs()<=ke.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${R} documents in `+(v-y)+`ms
Total Duration: ${v-w}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function D0(i,e){return new x0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(){this.changes=new Ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Xo(s.mutation,a,jr.empty(),Xt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const a=Ai();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=qo();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ai();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=Yr();const f=Go(),m=function(){return Go()}();return n.forEach((y,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof au)?c=c.insert(v.key,v):w!==void 0?(f.set(v.key,w.mutation.getFieldMask()),Xo(w.mutation,v,w.mutation.getFieldMask(),Xt.now())):f.set(v.key,jr.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,w)=>f.set(v,w)),n.forEach((v,w)=>{var R;return m.set(v,new V0(w,(R=f.get(v))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Go();let a=new it((f,m)=>f-m),c=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let w=s.get(y)||jr.empty();w=m.applyToLocalView(v,w),s.set(y,w);const R=(a.get(m.batchId)||Ve()).add(y);a=a.insert(m.batchId,R)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,w=y.value,R=sg();w.forEach(k=>{if(!c.has(k)){const F=ug(n.get(k),s.get(k));F!==null&&R.set(k,F),c=c.add(k)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,R))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):W.resolve(Ai());let m=-1,y=c;return f.next(v=>W.forEach(v,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?W.resolve():this.remoteDocumentCache.getEntry(e,w).next(k=>{y=y.insert(w,k)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,Ve())).next(w=>({batchId:m,changes:Hw(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=qo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=qo();return this.indexManager.getCollectionParents(e,c).next(m=>W.forEach(m,y=>{const v=function(R,k){return new ru(k,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((R,k)=>{f=f.insert(R,k)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,v)=>{const w=v.getKey();f.get(w)===null&&(f=f.insert(w,Ot.newInvalidDocument(w)))});let m=qo();return f.forEach((y,v)=>{const w=c.get(y);w!==void 0&&Xo(w.mutation,v,jr.empty(),Xt.now()),su(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return W.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:xs(a.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:C0(a.bundledQuery),readTime:xs(a.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.overlays=new it(ge.comparator),this.dr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ai();return W.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const a=Ai(),c=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return W.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new it((v,w)=>v-w);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=c.get(v.largestBatchId);w===null&&(w=Ai(),c=c.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Ai(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return W.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new r0(n,s));let c=this.dr.get(n);c===void 0&&(c=Ve(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.Er=new pt(Et.Ar),this.Rr=new pt(Et.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new Et(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Et(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ge(new Ze([])),s=new Et(n,e),a=new Et(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ge(new Ze([])),s=new Et(n,e),a=new Et(n,e+1);let c=Ve();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Et(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ge.comparator(e.key,n.key)||xe(e.br,n.br)}static Vr(e,n){return xe(e.br,n.br)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new pt(Et.Ar)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new n0(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new Et(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),a=new Et(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(xe);return n.forEach(a=>{const c=new Et(a,0),f=new Et(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),W.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const f=new Et(new ge(c),0);let m=new pt(xe);return this.vr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.br)),!0)},f),W.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ye(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return W.forEach(n.mutations,a=>{const c=new Et(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new Et(n,0),a=this.vr.firstAfterOrEqual(s);return W.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.Nr=e,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=Yr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Yr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:w}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||yw(gw(w),s)<=0||(a.has(w.key)||su(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ve()}Br(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new B0(this)}getSize(e){return W.resolve(this.size)}}class B0 extends N0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.persistence=e,this.Lr=new Ni(n=>Mh(n),Fh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new jh,this.targetCount=0,this.Qr=Fs.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),W.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Fs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Un(n),W.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),W.waitFor(c).next(()=>a)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new eu(0),this.Ur=!1,this.Ur=!0,this.Wr=new F0,this.referenceDelegate=e(this),this.Gr=new j0(this),this.indexManager=new R0,this.remoteDocumentCache=function(a){return new z0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new I0(n),this.jr=new O0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new U0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new b0(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return W.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class b0 extends vw{constructor(e){super(),this.currentSequenceNumber=e}}class bh{constructor(e){this.persistence=e,this.Zr=new jh,this.Xr=null}static ei(e){return new bh(e)}get ti(){if(this.Xr)return this.Xr;throw ve()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),W.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ti,s=>{const a=ge.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return W.or([()=>W.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Ql{constructor(e,n){this.persistence=e,this.ri=new Ni(s=>ww(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=D0(this,n)}static ei(e,n){return new Ql(e,n)}Hr(){}Jr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return W.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?W.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,_e.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),W.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ml(e.data.value)),n}ir(e,n,s){return W.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return W.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ve(),a=Ve();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new $h(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return bv()?8:Ew(Bv())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new $0;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Cs()<=ke.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),W.resolve()):(Cs()<=ke.DEBUG&&se("QueryEngine","Query:",Rs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Cs()<=ke.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):W.resolve())}Xi(e,n){if(bp(n))return W.resolve(null);let s=$n(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=ph(n,null,"F"),s=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ve(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.rs(n,m);return this.ss(n,v,f,y.readTime)?this.Xi(e,ph(n,null,"F")):this.os(e,v,n,y)}))})))}es(e,n,s,a){return bp(n)||a.isEqual(_e.min())?W.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?W.resolve(null):(Cs()<=ke.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Rs(n)),this.os(e,f,n,mw(a,-1)).next(m=>m))})}rs(e,n){let s=new pt(rg(e));return n.forEach((a,c)=>{su(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Cs()<=ke.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Kr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new it(xe),this.cs=new Ni(c=>Mh(c),Fh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function W0(i,e,n,s){return new q0(i,e,n,s)}async function wg(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=Ve();for(const v of a){f.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}for(const v of c){m.push(v.batchId);for(const w of v.mutations)y=y.add(w.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ts:v,removedBatchIds:f,addedBatchIds:m}))})})}function Tg(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function K0(i,e){const n=De(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const k=a.get(R);if(!k)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let F=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?F=F.withResumeToken(Rt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,s)),a=a.insert(R,F),function(H,B,Q){return H.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(k,F,w)&&m.push(n.Gr.updateTargetData(c,F))});let y=Yr(),v=Ve();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(Q0(c,f,e.documentUpdates).next(w=>{y=w.Is,v=w.ds})),!s.isEqual(_e.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.us=a,c))}function Q0(i,e,n){let s=Ve(),a=Ve();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Yr();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(_e.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Is:f,ds:a}})}function G0(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,W.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function vh(i,e,n){const s=De(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!$s(f))throw f;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function em(i,e,n){const s=De(i);let a=_e.min(),c=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,v,w){const R=De(y),k=R.cs.get(w);return k!==void 0?W.resolve(R.us.get(k)):R.Gr.getTargetData(v,w)}(s,f,$n(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:_e.min(),n?c:Ve())).next(m=>(X0(s,jw(e),m),{documents:m,Es:c})))}function X0(i,e,n){let s=i.ls.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class tm{constructor(){this.activeTargetIds=Kw()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y0{constructor(){this._o=new tm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new tm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl=null;function Xc(){return Dl===null?Dl=function(){return 268435456+Math.round(2147483648*Math.random())}():Dl++,"0x"+Dl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class tT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Xc(),y=this.No(n,s.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,c,f),this.Lo(n,y,v,a).then(w=>(se("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Vs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",y,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=Z0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=Xc();return new Promise((f,m)=>{const y=new bm;y.setWithCredentials(!0),y.listenOnce($m.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ol.NO_ERROR:const w=y.getResponseJson();se(Vt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Ol.TIMEOUT:se(Vt,`RPC '${e}' ${c} timed out`),m(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case Ol.HTTP_ERROR:const R=y.getStatus();if(se(Vt,`RPC '${e}' ${c} failed with status:`,R,"response text:",y.getResponseText()),R>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const j=function(B){const Q=B.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN}(F.status);m(new me(j,F.message))}else m(new me(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new me(te.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(Vt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);se(Vt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}qo(e,n,s){const a=Xc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Wm(),m=qm(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Bo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const w=c.join("");se(Vt,`Creating RPC '${e}' stream ${a}: ${w}`,y);const R=f.createWebChannel(w,y);let k=!1,F=!1;const j=new eT({Eo:B=>{F?se(Vt,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(k||(se(Vt,`Opening RPC '${e}' stream ${a} transport.`),R.open(),k=!0),se(Vt,`RPC '${e}' stream ${a} sending:`,B),R.send(B))},Ao:()=>R.close()}),H=(B,Q,ne)=>{B.listen(Q,J=>{try{ne(J)}catch(he){setTimeout(()=>{throw he},0)}})};return H(R,Ho.EventType.OPEN,()=>{F||(se(Vt,`RPC '${e}' stream ${a} transport opened.`),j.So())}),H(R,Ho.EventType.CLOSE,()=>{F||(F=!0,se(Vt,`RPC '${e}' stream ${a} transport closed`),j.Do())}),H(R,Ho.EventType.ERROR,B=>{F||(F=!0,Vs(Vt,`RPC '${e}' stream ${a} transport errored:`,B),j.Do(new me(te.UNAVAILABLE,"The operation could not be completed")))}),H(R,Ho.EventType.MESSAGE,B=>{var Q;if(!F){const ne=B.data[0];Ye(!!ne);const J=ne,he=(J==null?void 0:J.error)||((Q=J[0])===null||Q===void 0?void 0:Q.error);if(he){se(Vt,`RPC '${e}' stream ${a} received error:`,he);const Ie=he.status;let Ee=function(I){const P=at[I];if(P!==void 0)return hg(P)}(Ie),x=he.message;Ee===void 0&&(Ee=te.INTERNAL,x="Unknown error status: "+Ie+" with message "+he.message),F=!0,j.Do(new me(Ee,x)),R.close()}else se(Vt,`RPC '${e}' stream ${a} received:`,ne),j.vo(ne)}}),H(m,Hm.STAT_EVENT,B=>{B.stat===lh.PROXY?se(Vt,`RPC '${e}' stream ${a} detected buffering proxy`):B.stat===lh.NOPROXY&&se(Vt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{j.bo()},0),j}}function Yc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i){return new h0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Ig(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new me(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rT extends nT{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=g0(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?xs(f.readTime):_e.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Yp(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=dh(y)?{documents:y0(c,y)}:{query:_0(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=d0(c,f.resumeToken);const v=yh(c,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(_e.min())>0){m.readTime=f0(c,f.snapshotVersion.toTimestamp());const v=yh(c,f.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=E0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Yp(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,_h(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(te.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,_h(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(te.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class sT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pr(n),this.C_=!1):se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{ua(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=De(y);v.k_.add(4),await la(v),v.K_.set("Unknown"),v.k_.delete(4),await uu(v)}(this))})}),this.K_=new sT(s,a)}}async function uu(i){if(ua(i))for(const e of i.q_)await e(!0)}async function la(i){for(const e of i.q_)await e(!1)}function Cg(i,e){const n=De(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),Kh(n)?Wh(n):Hs(n).s_()&&qh(n,e))}function Hh(i,e){const n=De(i),s=Hs(n);n.L_.delete(e),s.s_()&&Rg(n,e),n.L_.size===0&&(s.s_()?s.a_():ua(n)&&n.K_.set("Unknown"))}function qh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hs(i).V_(e)}function Rg(i,e){i.U_.xe(e),Hs(i).m_(e)}function Wh(i){i.U_=new a0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Hs(i).start(),i.K_.F_()}function Kh(i){return ua(i)&&!Hs(i).i_()&&i.L_.size>0}function ua(i){return De(i).k_.size===0}function Ag(i){i.U_=void 0}async function aT(i){i.K_.set("Online")}async function lT(i){i.L_.forEach((e,n)=>{qh(i,e)})}async function uT(i,e){Ag(i),Kh(i)?(i.K_.O_(e),Wh(i)):i.K_.set("Unknown")}async function cT(i,e,n){if(i.K_.set("Online"),e instanceof dg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.L_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.L_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rm(i,s)}else if(e instanceof Ul?i.U_.$e(e):e instanceof fg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(_e.min()))try{const s=await Tg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const w=c.L_.get(v);w&&c.L_.set(v,w.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,v)=>{const w=c.L_.get(y);if(!w)return;c.L_.set(y,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),Rg(c,y);const R=new br(w.target,y,v,w.sequenceNumber);qh(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se("RemoteStore","Failed to raise snapshot:",s),await rm(i,s)}}async function rm(i,e,n){if(!$s(e))throw e;i.k_.add(1),await la(i),i.K_.set("Offline"),n||(n=()=>Tg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await uu(i)})}async function im(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const s=ua(n);n.k_.add(3),await la(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await uu(n)}async function hT(i,e){const n=De(i);e?(n.k_.delete(2),await uu(n)):e||(n.k_.add(2),await la(n),n.K_.set("Unknown"))}function Hs(i){return i.W_||(i.W_=function(n,s,a){const c=De(n);return c.b_(),new rT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:aT.bind(null,i),mo:lT.bind(null,i),po:uT.bind(null,i),R_:cT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Kh(i)?Wh(i):i.K_.set("Unknown")):(await i.W_.stop(),Ag(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Qh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(i,e){if(pr("AsyncQueue",`${e}: ${i}`),$s(i))return new me(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{static emptySet(e){return new Ds(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=qo(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ds;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.z_=new it(ge.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Us{constructor(e,n,s,a,c,f,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Us(e,n,Ds.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class dT{constructor(){this.queries=om(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=De(n),c=a.queries;a.queries=om(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function om(){return new Ni(i=>ng(i),iu)}async function pT(i,e){const n=De(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new fT,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Pg(f,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Gh(n)}async function mT(i,e){const n=De(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gT(i,e){const n=De(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Gh(n)}function yT(i,e,n){const s=De(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Gh(i){i.X_.forEach(e=>{e.next()})}var Eh,am;(am=Eh||(Eh={})).na="default",am.Cache="cache";class _T{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Us(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Us.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Eh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.key=e}}class xg{constructor(e){this.key=e}}class vT{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=rg(e),this.ma=new Ds(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new sm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const k=a.get(w),F=su(this.query,R)?R:null,j=!!k&&this.mutatedKeys.has(k.key),H=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let B=!1;k&&F?k.data.isEqual(F.data)?j!==H&&(s.track({type:3,doc:F}),B=!0):this.ya(k,F)||(s.track({type:2,doc:F}),B=!0,(y&&this.Va(F,y)>0||v&&this.Va(F,v)<0)&&(m=!0)):!k&&F?(s.track({type:0,doc:F}),B=!0):k&&!F&&(s.track({type:1,doc:k}),B=!0,(y||v)&&(m=!0)),B&&(F?(f=f.add(F),c=H?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,R)=>function(F,j){const H=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return H(F)-H(j)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,v=y!==this.Aa;return this.Aa=y,f.length!==0||v?{snapshot:new Us(this.query,e.ma,c,f,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new sm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new xg(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new kg(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ve();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Us.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class ET{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wT{constructor(e){this.key=e,this.Fa=!1}}class TT{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Ni(m=>ng(m),iu),this.Oa=new Map,this.Na=new Set,this.Ba=new it(ge.comparator),this.La=new Map,this.ka=new jh,this.qa={},this.Qa=new Map,this.Ka=Fs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ST(i,e,n=!0){const s=Og(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Dg(s,e,n,!0),a}async function IT(i,e){const n=Og(i);await Dg(n,e,!0,!1)}async function Dg(i,e,n,s){const a=await G0(i.localStore,$n(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await CT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&Cg(i.remoteStore,a),m}async function CT(i,e,n,s,a){i.Ua=(R,k,F)=>async function(H,B,Q,ne){let J=B.view.ga(Q);J.ss&&(J=await em(H.localStore,B.query,!1).then(({documents:x})=>B.view.ga(x,J)));const he=ne&&ne.targetChanges.get(B.targetId),Ie=ne&&ne.targetMismatches.get(B.targetId)!=null,Ee=B.view.applyChanges(J,H.isPrimaryClient,he,Ie);return um(H,B.targetId,Ee.ba),Ee.snapshot}(i,R,k,F);const c=await em(i.localStore,e,!0),f=new vT(e,c.Es),m=f.ga(c.documents),y=aa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=f.applyChanges(m,i.isPrimaryClient,y);um(i,n,v.ba);const w=new ET(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function RT(i,e,n){const s=De(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!iu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await vh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Hh(s.remoteStore,a.targetId),wh(s,a.targetId)}).catch(Zl)):(wh(s,a.targetId),await vh(s.localStore,a.targetId,!0))}async function AT(i,e){const n=De(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hh(n.remoteStore,s.targetId))}async function Ng(i,e){const n=De(i);try{const s=await K0(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(Ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Ye(f.Fa):a.removedDocuments.size>0&&(Ye(f.Fa),f.Fa=!1))}),await Lg(n,s,e)}catch(s){await Zl(s)}}function lm(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=De(f);y.onlineState=m;let v=!1;y.queries.forEach((w,R)=>{for(const k of R.J_)k.ea(m)&&(v=!0)}),v&&Gh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PT(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new it(ge.comparator);f=f.insert(c,Ot.newNoDocument(c,_e.min()));const m=Ve().add(c),y=new lu(_e.min(),new Map,new it(xe),f,m);await Ng(s,y),s.Ba=s.Ba.remove(c),s.La.delete(e),Xh(s)}else await vh(s.localStore,e,!1).then(()=>wh(s,e,n)).catch(Zl)}function wh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Vg(i,s)})}function Vg(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(Hh(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),Xh(i))}function um(i,e,n){for(const s of n)s instanceof kg?(i.ka.addReference(s.key,e),kT(i,s)):s instanceof xg?(se("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Vg(i,s.key)):ve()}function kT(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(se("SyncEngine","New document in limbo: "+n),i.Na.add(s),Xh(i))}function Xh(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ge(Ze.fromString(e)),s=i.Ka.next();i.La.set(s,new wT(n)),i.Ba=i.Ba.insert(n,s),Cg(i.remoteStore,new br($n(tg(n.path)),s,"TargetPurposeLimboResolution",eu.oe))}}async function Lg(i,e,n){const s=De(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const R=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(y.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(v){a.push(v);const R=$h.zi(y.targetId,v);c.push(R)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,v){const w=De(y);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(v,k=>W.forEach(k.Wi,F=>w.persistence.referenceDelegate.addReference(R,k.targetId,F)).next(()=>W.forEach(k.Gi,F=>w.persistence.referenceDelegate.removeReference(R,k.targetId,F)))))}catch(R){if(!$s(R))throw R;se("LocalStore","Failed to update sequence numbers: "+R)}for(const R of v){const k=R.targetId;if(!R.fromCache){const F=w.us.get(k),j=F.snapshotVersion,H=F.withLastLimboFreeSnapshotVersion(j);w.us=w.us.insert(k,H)}}}(s.localStore,c))}async function xT(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const s=await wg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new me(te.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lg(n,s.Ts)}}function DT(i,e){const n=De(i),s=n.La.get(e);if(s&&s.Fa)return Ve().add(s.key);{let a=Ve();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Og(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ng.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PT.bind(null,e),e.Ma.R_=gT.bind(null,e.eventManager),e.Ma.Wa=yT.bind(null,e.eventManager),e}class Gl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sg(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return W0(this.persistence,new H0,e.initialUser,this.serializer)}ja(e){return new Eg(bh.ei,this.serializer)}za(e){return new Y0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gl.provider={build:()=>new Gl};class NT extends Gl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ye(this.persistence.referenceDelegate instanceof Ql);const s=this.persistence.referenceDelegate.garbageCollector;return new k0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Eg(s=>Ql.ei(s,n),this.serializer)}}class Th{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=xT.bind(null,this.syncEngine),await hT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dT}()}createDatastore(e){const n=Sg(e.databaseInfo.databaseId),s=function(c){return new tT(c)}(e.databaseInfo);return function(c,f,m,y){return new iT(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new oT(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>lm(this.syncEngine,n,0),function(){return nm.p()?new nm:new J0}())}createSyncEngine(e,n){return function(a,c,f,m,y,v,w){const R=new TT(a,c,f,m,y,v);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=De(a);se("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await la(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Th.provider={build:()=>new Th};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=dw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{se("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(se("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Jc(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await wg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function cm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await OT(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>im(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>im(e.remoteStore,a)),i._onlineComponents=e}async function OT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Vs("Error using user provided cache. Falling back to memory cache: "+n),await Jc(i,new Gl)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Jc(i,new NT(void 0));return i._offlineComponents}async function MT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await cm(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await cm(i,new Th))),i._onlineComponents}async function FT(i){const e=await MT(i),n=e.eventManager;return n.onListen=ST.bind(null,e.syncEngine),n.onUnlisten=RT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AT.bind(null,e.syncEngine),n}function UT(i,e,n={}){const s=new Pi;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,v){const w=new VT({next:k=>{w.eu(),f.enqueueAndForget(()=>mT(c,R)),k.fromCache&&y.source==="server"?v.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(k)},error:k=>v.reject(k)}),R=new _T(m,w,{includeMetadataChanges:!0,ua:!0});return pT(c,R)}(await FT(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;function zT(i,e,n,s){if(e===!0&&s===!0)throw new me(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function fm(i){if(ge.isDocumentKey(i))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function BT(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function Sh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BT(i);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mg((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sw;switch(s.type){case"firstParty":return new uw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=hm.get(n);s&&(se("ComponentProvider","Removing Datastore"),hm.delete(n),s.terminate())}(this),Promise.resolve()}}function jT(i,e,n,s={}){var a;const c=(i=Sh(i,Yh))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=Lt.MOCK_USER;else{m=zv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Lt(v)}i._authCredentials=new ow(new Km(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cu(this.firestore,e,this._query)}}class qs{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qs(this.firestore,e,this._key)}}class Ns extends cu{constructor(e,n,s){super(e,n,tg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qs(this.firestore,null,new ge(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function bT(i,e,...n){if(i=Qv(i),i instanceof Yh){const s=Ze.fromString(e,...n);return fm(s),new Ns(i,null,s)}{if(!(i instanceof qs||i instanceof Ns))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ze.fromString(e,...n));return fm(s),new Ns(i.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Ig(this,"async_queue_retry"),this.fu=()=>{const s=Yc();s&&se("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Yc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=Yc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Pi;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!$s(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Qh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class Fg extends Yh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new pm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pm(e),this._firestoreClient=void 0,await e}}}function $T(i,e){const n=typeof i=="object"?i:GE(),s=typeof i=="string"?i:"(default)",a=qE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Fv("firestore");c&&jT(a,...c)}return a}function HT(i){if(i._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qT(i),i._firestoreClient}function qT(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,w){return new Cw(m,y,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Mg(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new LT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xl(Rt.fromBase64String(e))}catch(n){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xl(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}const QT=new RegExp("[~\\*/\\[\\]]");function GT(i,e,n){if(e.search(QT)>=0)throw mm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Ug(...e.split("."))._internalPath}catch{throw mm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function mm(i,e,n,s,a){let c=`Function ${e}() called with invalid data`;c+=". ";let f="";return new me(te.INVALID_ARGUMENT,c+i+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new qs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XT extends zg{data(){return super.data()}}function Bg(i,e){return typeof e=="string"?GT(i,e):e instanceof Ug?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JT{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oa(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>rt(f.doubleValue));return new KT(c)}convertGeoPoint(e){return new WT(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ea(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);Ye(vg(s));const a=new ta(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return a.isEqual(n)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZT extends zg{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Bg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class zl extends ZT{data(e={}){return super.data(e)}}class eS{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Nl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new zl(this._firestore,this._userDataWriter,s.key,s,new Nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const y=new zl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Nl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new zl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Nl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:tS(m.type),doc:y,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class nS extends JT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qs(this.firestore,null,n)}}function rS(i){i=Sh(i,cu);const e=Sh(i.firestore,Fg),n=HT(e),s=new nS(e);return YT(i._query),UT(n,i._query).then(a=>new eS(e,s,i,a))}(function(e,n=!0){(function(a){bs=a})(QE),$l(new Jo("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Fg(new aw(s.getProvider("auth-internal")),new hw(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(v.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),ks(Dp,"4.7.6",e),ks(Dp,"4.7.6","esm2017")})();var iS="firebase",sS="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(iS,sS,"app");const oS={apiKey:"AIzaSyAyZiD0HMHAb5EXFJnp5cAXCHwVo4Tayag",authDomain:"e-commerce-ebb6e.firebaseapp.com",projectId:"e-commerce-ebb6e",storageBucket:"e-commerce-ebb6e.firebasestorage.app",messagingSenderId:"383790635571",appId:"1:383790635571:web:01b57df5f72b63a1542146"},aS=Um(oS),lS=$T(aS),uS=async()=>(await rS(bT(lS,"products"))).docs.map(n=>({id:n.id,...n.data()})),cS=()=>{const[i,e]=$.useState("PENDING"),[n,s]=$.useState([]),[a,c]=$.useState(null);return $.useEffect(()=>{e("LOADING"),uS().then(f=>{s(f),e("SUCCESS")}).catch(f=>{c(f),e("FAILURE")})},[]),qe.jsxs(qe.Fragment,{children:[qe.jsx("h1",{children:"Products"}),i==="LOADING"&&qe.jsx("p",{children:"Loading..."}),i==="SUCCESS"&&qe.jsx(Av,{products:n}),i==="FAILURE"&&qe.jsx("p",{children:a.message})]})},hS=()=>qe.jsx(qe.Fragment,{children:qe.jsx("h1",{children:" A single Product Page"})});function fS(){return qe.jsx(qe.Fragment,{children:qe.jsx(fv,{children:qe.jsxs(b_,{children:[qe.jsx(eh,{path:"/products",element:qe.jsx(cS,{})}),qe.jsx(eh,{path:"products/:id",element:qe.jsx(hS,{})})]})})})}Yy.createRoot(document.getElementById("root")).render(qe.jsx(fS,{}));
